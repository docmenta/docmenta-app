<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<!-- Put your custom HTML head tags here and select this file in the HTML output configuration. -->
<!-- Note: The content of this file has to be XML (XHTML). -->
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<meta http-equiv="expires" content="43200" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="Docmenta 1.8.0"/>
<title>1.13.8. Labeled blocks</title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<link rel="home" href="index.html" title="Docmenta Tutorial and Reference"/>
<link rel="up" href="pt01ch13.html" title="1.13. Advanced Tasks"/>
<link rel="prev" href="create_footnotes.html" title="1.13.7. Creating footnotes"/>
<link rel="prev" href="line_numbering.html" title="1.13.9. Formatting of listings"/>
<link rel="stylesheet" type="text/css" href="styles.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css"/>
<link rel="stylesheet" type="text/css" href="common/css/positioning.css"/>
<script type="text/javascript">
  var treeCookieId = "treeview-1442167773659";
  var language = "en";
  var w = new Object();
  txt_filesfound = "Results";
  txt_enter_at_least_1_char = "You must enter at least one character.";
  txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
  txt_please_wait = "Please wait. Search in progress...";
  txt_results_for = "Results for: ";
</script>
<script type="text/javascript" src="common/jquery/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery-ui-1.8.2.custom.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery.cookie.js"></script>
<script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script>
<script type="text/javascript" src="search/htmlFileList.js"></script>
<script type="text/javascript" src="search/htmlFileInfoList.js"></script>
<script type="text/javascript" src="search/nwSearchFnt.js"></script>
<script type="text/javascript" src="search/stemmers/en_stemmer.js"></script>
<script type="text/javascript" src="search/index-1.js"></script>
<script type="text/javascript" src="search/index-2.js"></script>
<script type="text/javascript" src="search/index-3.js"></script>
<script type="text/javascript" src="custom.js"></script>
<script type="text/javascript" src="common/main.js"></script>
</head>
<body>
<div id="header"><img id="webhelplogo1" align="left" src='common/images/logo1.png' alt="Logo"/><img id="webhelplogo2" align="right" src='common/images/logo2.png' alt="Logo"/><div class="webhelptitle"><div class="webhelptitle1">Chapter 1.13. Advanced Tasks</div><div class="webhelptitle2">1.13.8. Labeled blocks</div></div><div id="navheader" align="right"><table><tr><td><img src="common/images/highlight-blue.gif" alt="H" onclick="toggleHighlight()" id="showHideHighlight" title="Toggle search result highlighting" /></td><td><a id="navhead-prev" accesskey="p" href="create_footnotes.html"><span class="navlink-text">Prev</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-up" accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-next" accesskey="n" href="line_numbering.html"><span class="navlink-text">Next</span></a></td></tr></table></div></div>
<div id="leftnavigation"><div id="tabs"><ul id="tocsearchnavigation" style="display:none"><li id="tocnavigationtab"><a href="#treeDiv"><em>Contents</em></a></li><li id="searchnavigationtab"><a href="#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none;"><div id="treenavigationtitle" style="display:none;">Contents</div><ul id="tree" class="filetree"><li><span class="file"><a href="basic_concepts_terms.html">Installation and basic concepts</a></span><ul><li><span class="file"><a href="intro_product.html">Products</a></span></li><li><span class="file"><a href="intro_version.html">Versions</a></span></li><li><span class="file"><a href="intro_publication.html">Publications</a></span></li><li><span class="file"><a href="intro_output_configuration.html">Output Configurations</a></span></li><li><span class="file"><a href="intro_translation.html">Translation Mode</a></span></li></ul></li><li><span class="file"><a href="tut_create_product.html">Creating a new product</a></span></li><li><span class="file"><a href="tut_content_styles.html">Creating content and styles</a></span><ul><li><span class="file"><a href="tut_sect_para.html">Sections, paragraphs and predefined styles</a></span></li><li><span class="file"><a href="tut_lists.html">Lists</a></span></li><li><span class="file"><a href="tut_tables.html">Tables</a></span></li><li><span class="file"><a href="tut_images.html">Images</a></span></li><li><span class="file"><a href="tut_user_styles.html">User-defined styles</a></span></li></ul></li><li><span class="file"><a href="linking_content.html">Linking content</a></span><ul><li><span class="file"><a href="ref_sections.html">Referencing sections</a></span></li><li><span class="file"><a href="ref_images_tables.html">Referencing images and tables</a></span></li><li><span class="file"><a href="external_links.html">External links</a></span></li><li><span class="file"><a href="ref_files.html">Referencing files</a></span></li></ul></li><li><span class="file"><a href="tracking_progress.html">Tracking the completion status</a></span></li><li><span class="file"><a href="tut_manage_versions.html">Versions and revisions</a></span></li><li><span class="file"><a href="translate_content.html">Translating content</a></span></li><li><span class="file"><a href="tut_export_publication.html">Exporting publications</a></span><ul><li><span class="file"><a href="tut_publication_config.html">Publications</a></span></li><li><span class="file"><a href="tut_output_config.html">Output configurations</a></span></li><li><span class="file"><a href="tut_export_html.html">Export an HTML publication</a></span></li><li><span class="file"><a href="tut_export_pdf.html">Export a PDF publication</a></span></li><li><span class="file"><a href="tut_export_translation.html">Export a translated publication</a></span></li></ul></li><li><span class="file"><a href="tut_templates.html">Templates</a></span><ul><li><span class="file"><a href="tut_static_templates.html">Static Templates</a></span></li><li><span class="file"><a href="tut_dynamic_templates.html">Dynamic Templates</a></span></li></ul></li><li><span class="file"><a href="filtering_content.html">Filtering content</a></span><ul><li><span class="file"><a href="filtering_nodes.html">Node filtering</a></span></li><li><span class="file"><a href="node_variants.html">Node variants</a></span></li></ul></li><li><span class="file"><a href="inclusions.html">Inclusions</a></span><ul><li><span class="file"><a href="structural_inclusions.html">Structural inclusions</a></span></li><li><span class="file"><a href="inline_inclusions.html">Inline inclusions</a></span></li></ul></li><li><span class="file"><a href="tut_manage_users.html">Managing user accounts</a></span></li><li><span class="file"><a href="pt01ch13.html">Advanced Tasks</a></span><ul><li><span class="file"><a href="styling_titlepage.html">Styling the title-page</a></span></li><li><span class="file"><a href="create_coverpage.html">Creating a cover-page</a></span></li><li><span class="file"><a href="adapt_page_design.html">Adapting the PDF page design</a></span><ul><li><span class="file"><a href="tut_set_page_margins.html">Setting the page margins</a></span></li><li><span class="file"><a href="pt01ch13s03s02.html">Styling the chapter header</a></span></li><li><span class="file"><a href="pt01ch13s03s03.html">Defining the header/footer content</a></span></li><li><span class="file"><a href="pt01ch13s03s04.html">Styling the header and footer</a></span></li></ul></li><li><span class="file"><a href="gentext_settings.html">Gentext settings</a></span></li><li><span class="file"><a href="inter_publication_links.html">Inter-publication links</a></span></li><li><span class="file"><a href="create_index_entries.html">Creating index entries</a></span></li><li><span class="file"><a href="create_footnotes.html">Creating footnotes</a></span></li><li id="webhelp-currentid"><span class="file"><a href="labeled_blocks.html">Labeled blocks</a></span></li><li><span class="file"><a href="line_numbering.html">Formatting of listings</a></span></li><li><span class="file"><a href="syntax_highlighting.html">Syntax highlighting</a></span></li><li><span class="file"><a href="tut_html_preview_images.html">Creating HTML preview images</a></span></li><li><span class="file"><a href="customize_webhelp.html">Customizing the Web-Help design</a></span></li><li><span class="file"><a href="webhelp_create_layout.html">Creating a new Web-Help layout</a></span></li><li><span class="file"><a href="export_import_nodes.html">Export, import and migration</a></span></li><li><span class="file"><a href="integrate_other_systems.html">Integration with other systems</a></span></li><li><span class="file"><a href="create_plugin.html">Creating a plug-in</a></span></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="startWebHelpSearch(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><div align="center"><input id="textToSearch" name="textToSearch" type="text" class="searchText"/>&nbsp;<input onclick="startWebHelpSearch(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></div></fieldset></form></div><div id="closeSearchResults" style="display:none"><a href="javascript:closeSearchShowToc();">Contents</a></div><div id="searchResults"><div align="center"></div></div></div></div></div>
<div id="bookpartsnavigation"><ul><li class="book-currentpart"><a href="pt01.html">Tutorial</a></li><li><a href="reference_manual.html">Reference Manual</a></li></ul></div>
<div id="breadcrumbsnavigation" class="breadcrumbs"><span class="breadcrumb-link"><a class="breadcrumb_node" href="pt01.html">Tutorial</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb-link"><a class="breadcrumb_node" href="pt01ch13.html">Advanced Tasks</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb_node breadcrumb_lastnode">Labeled blocks</span></div>
<div id="content"><div id="labeled_blocks" class="section"><h3>1.13.8. Labeled blocks</h3><div title="Labeled blocks" class="doc-content"><div class="normal-para">If an image or a table has a title assigned, then a label is shown in the exported publication before or after the image / table (the position of the label depends on the output configuration).</div>
<div class="normal-para"><div title="A labeled image" class="figure"><div class="mediaobject"><img title="A labeled image" alt="" src="images/tutorial_labeled_image_example.gif"     /></div><p class="title">Figure 1.13.47. A labeled image</p></div></div>
<div class="normal-para">For example, if an image has the title "<span class="code">Sunset and sea</span>" and it is the second image in the first chapter, then the label in the exported publication is for instance "<span class="code">Figure 1.2 Sunset and sea</span>". The advantage of such an numbered label is, that the image can be referenced from any place within a publication via its unique ID (the alias name), and depending on the link settings, the link text is automatically replaced in the exported publication by the generated label number (e.g. "<span class="code">Figure 1.2</span>"). This way the reader can easily locate the referenced image or table.</div>
<div class="normal-para">Labeled blocks are not only useful for images and tables, but also for other types of content, e.g. listings, examples, theorems and so on. Docmenta supports the numbering of arbitrary content, by allowing the generation of labels for any user-defined block-style.</div>
<div class="normal-para">To follow the tutorial, create a new block-style with ID "<span class="code">listing</span>". In the style-dialog set the CSS properties to be applied to listings, e.g. a grey background-color and a top-margin of 8 points:</div>
<div class="normal-para"><div title="Style settings for the listing-style" class="figure"><div class="mediaobject"><img title="Style settings for the listing-style" style="print-width: 100%;" alt="" width="720" src="images/tutorial_labeled_block_css.gif"     /></div><p class="title">Figure 1.13.48. Style settings for the listing-style</p></div></div>
<div class="normal-para">Furthermore, to enable the generation of a label for this style, check the "Show label before/after block" box:</div>
<div class="normal-para"><div title="Creating a labeled block-style" class="figure"><div class="mediaobject"><img title="Creating a labeled block-style" height="350" alt="" width="384" src="images/tutorial_labeled_style_creation.gif"     /></div><p class="title">Figure 1.13.49. Creating a labeled block-style</p></div></div>
<div class="normal-para">Entering a Label-ID is optional. The Label-ID identifies the type of content. Leaving the Label-ID empty is the same as entering the Style-ID as Label-ID. If you want two or more block-styles to share the same number sequence, then you have to use the same Label-ID for all these styles.</div>
<div class="normal-para">If the "Show label before/after block" box is checked, then you also have to define at least four GenText properties for this style.To do this, select the file <img height="14" alt="" width="14" src="images/sys_folder_icon.gif"     /> <span class="code">System</span> &gt; <img height="14" alt="" width="14" src="images/file_icon.gif"     /> <span class="code">gentext.properties</span>. The content of the file is then shown in the preview area:</div>
<div class="normal-para"><div title="Editing the gentext.properties file" class="figure"><div class="mediaobject"><img title="Editing the gentext.properties file" height="205" style="print-width: 100%;" alt="" width="700" src="images/tutorial_labeled_select_gentext.gif"     /></div><p class="title">Figure 1.13.50. Editing the gentext.properties file</p></div></div>
<div class="normal-para">To edit the file, click the "Edit" button in the bottom bar of the preview area and add four lines with following structure (each line defines one GenText property)<br    /> <br    /><span class="code">  <em>ID</em>=<em>Pattern</em></span><br    /><span class="code">  title|<em>ID</em>=<em>Pattern</em></span><br    /><span class="code">  xref-number|<em>ID</em>=<em>Pattern</em></span><br    /><span class="code">  xref-number-and-title|<em>ID</em>=<em>Pattern</em></span><br    /> <br    />where <span class="code"><em>ID</em></span> is the Label-ID that you have set for the style (or the Style-ID if a Label-ID is not supplied) and <span class="code"><em>Pattern</em></span> is the localized text to be used for this GenText property. In our example (assuming that the style-ID is "<span class="code">listing</span>" and a Label-ID is not supplied), add following lines:<br    /> <br    /><span class="code">  listing=Listing</span><br    /><span class="code">  title|listing=Listing %n. %t</span><br    /><span class="code">  xref-number|listing=Listing %n</span><br    /><span class="code">  xref-number-and-title|listing=Listing %n, \u201C%t\u201D</span><br    />    <br    />The first line defines the label name. As the style shall be used to mark listings the label name is "Listing". If, for instance, the style is used to mark examples, then the label name should be "Example" instead. Note that the text has to be localized, i.e. if the content language were German, then the text had to be in German, e.g. "Beispiel" instead of "Example".</div>
<div class="normal-para">The property "<span class="code">title|<em>ID</em></span>" defines the localized pattern used for the generated title line, i.e. the line that is inserted before/after the block. You can use the placeholders <span class="code">%n</span> and <span class="code">%t</span> within the pattern. During export, the placeholder <span class="code">%n</span> is replaced by the generated number, and <span class="code">%t</span> is replaced by the title of the content-block. For example, given the pattern in the example above ("<span class="code">Listing %n. %t</span>"), then the generated title of the first listing in the first chapter is "<span class="code">Listing 1.1. My first listing</span>" (assuming that the title of the listing is "<span class="code">My first listing</span>").<br    /><br    />When you create a link, you can set the option whether the generated link text shall be only the generated label number or the label number and the title of the referenced block (see <a title="1.4. Linking content" href="linking_content.html">Chapter 1.4, Linking content</a> on how to create links). The properties <span class="code">xref-number|<em>ID</em></span> and <span class="code">xref-number-and-title|<em>ID</em></span> define the patterns for these two options. For example, given the patterns in the example above, the generated link text for links that reference the first listing in the first chapter with title "My listing", would be either "Listing 1.1" or "Listing 1.1, ‘My listing’",<br    />depending on whether the link option was set to only include the number or the number and the title.</div>
<div class="normal-para"><span class="underline"><div title="Updating the gentext.properties file" class="figure"><div class="mediaobject"><img title="Updating the gentext.properties file" height="340" alt="" width="600" src="images/tutorial_labeled_save_gentext.gif"     /></div><p class="title">Figure 1.13.51. Updating the gentext.properties file</p></div></span></div>
<div class="normal-para"><span class="underline">Note</span>: <span class="code">\u201C</span> is the Unicode escape for an opening quotation mark and <span class="code">\u201D</span> is the<br    />Unicode escape for a closing quotation mark.</div>
<div class="normal-para">Save the modified <span class="code">gentext.properties</span> file by clicking the "Save" <img height="14" alt="" width="14" src="images/icon_save.gif"     /> button in the bottom bar of the preview-area.</div>
<div class="normal-para">Now that all the configuration work is done, you can use the style to format content as listing. Open a previously created content-node in the content-editor, select one or more paragraphs <img height="14" alt="" width="14" src="images/callout_1.gif"     /> and apply the style with ID "<span class="code">listing</span>" <img height="14" alt="" width="14" src="images/callout_2.gif"     />.</div>
<div class="normal-para"><div title="Applying the listing-style to content" class="figure"><div class="mediaobject"><img title="Applying the listing-style to content" alt="" src="images/tutorial_labeled_apply_style.gif"     /></div><p class="title">Figure 1.13.52. Applying the listing-style to content</p></div></div>
<div class="normal-para">Finally, save the content. When you preview the node, a title-line should be shown below the content to which the <span class="code">listing</span>-style was applied:</div>
<div class="normal-para"><div title="HTML preview of the labeled block" class="figure"><div class="mediaobject"><img title="HTML preview of the labeled block" alt="" src="images/tutorial_labeled_preview_label.gif"     /></div><p class="title">Figure 1.13.53. HTML preview of the labeled block</p></div></div>
<div class="normal-para">The next exercise is to assign a title to the listing and to create a link that references the listing. Before we can reference the listing, we have to assign an ID to the listing. To assign a title and an ID, we have to select the listing-block in the content-editor.The easiest way to select the listing-block is to place the cursor somewhere within the listing and then select the path element <span class="code">div.listing</span> in the status line of the content-editor:</div>
<div class="normal-para"><div title="Selecting the listing block" class="figure"><div class="mediaobject"><img title="Selecting the listing block" alt="" src="images/tutorial_labeled_select_block.gif"     /></div><p class="title">Figure 1.13.54. Selecting the listing block</p></div></div>
<div class="normal-para">After having selected the block, click the "Insert/Edit Attributes" <img height="14" alt="" width="14" src="images/icon_attributes.gif"     /> button. In the opened dialog enter an ID for the listing, e.g. "<span class="code">my_listing</span>", and a title:</div>
<div class="normal-para"><div title="Assigning a title and an ID" class="figure"><div class="mediaobject"><img title="Assigning a title and an ID" alt="" src="images/tutorial_labeled_assign_id_title.gif"     /></div><p class="title">Figure 1.13.55. Assigning a title and an ID</p></div></div>
<div class="normal-para">Close the dialog by clicking "Insert".</div>
<div class="normal-para"><span class="underline">Note</span>: The block-selection via status line may not work for all browsers. If you experience problems, then use the HTML-editor to assign a title and an ID to the block. For more information see the note "Browser Issues" in the chapter <a title="1.9.2. Dynamic Templates" href="tut_dynamic_templates.html">Section 1.9.2, “Dynamic Templates”</a>.</div>
<div class="normal-para">Now that we've assigned an ID, we can create a link that references the listing. For example, enter the text "<span class="code">As you can see in the listing above</span>" below the listing, select the words "<span class="code">the listing above</span>" and click the "Insert/Edit Link" <img height="14" alt="" width="14" src="images/icon_link.gif"     /> button. In the opened dialog enter "<span class="code">#my_listing</span>" as Link URL and check the "Use target title" box (see <a title="1.4. Linking content" href="linking_content.html">Chapter 1.4, Linking content</a> for an introduction on creating links):</div>
<div class="normal-para"><div title="Referencing the labeled block" class="figure"><div class="mediaobject"><img title="Referencing the labeled block" alt="" src="images/tutorial_labeled_create_link.gif"     /></div><p class="title">Figure 1.13.56. Referencing the labeled block</p></div></div>
<div class="normal-para">Click the "Insert" button to close the dialog. Finally, save the modified content-node.</div>
<div class="normal-para">When you preview the node, you may notice that the link text is still "<span class="code">the listing above</span>". This is because the link text replacement is done during export but not for HTML preview. However, you can check that the link text is correctly replaced during export, by creating a PDF preview of the content-node (i.e. click the PDF-preview <img height="14" alt="" width="14" src="images/btn_pdf_preview.gif"     /> button in the toolbar):</div>
<div class="normal-para"><div title="Previewing link text replacement" class="figure"><div class="mediaobject"><img title="Previewing link text replacement" alt="" src="images/tutorial_labeled_preview_link_pdf.gif"     /></div><p class="title">Figure 1.13.57. Previewing link text replacement</p></div></div>
<div class="normal-para">The PDF preview shows the link text according to the pattern defined by the GenText property <span class="code">xref-number-and-title|<em>ID</em></span>.</div>
</div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="create_footnotes.html"><span class="navlink-text">Prev</span></a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a></td><td width="40%" align="right">&#160;<a accesskey="n" href="line_numbering.html"><span class="navlink-text">Next</span></a></td></tr><tr><td width="40%" align="left" valign="top">1.13.7. Creating footnotes&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><span class="navlink-text">Home</span></a></td><td width="40%" align="right" valign="top">&#160;1.13.9. Formatting of listings</td></tr></table></div>
<div class="web_footer">
<p class="align-center">&#169; 2015 - www.docmenta.org</p>
</div>
</div>
<a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">&nbsp;</a></body>
</html>
