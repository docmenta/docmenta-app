<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<!-- Put your custom HTML head tags here and select this file in the HTML output configuration. -->
<!-- Note: The content of this file has to be XML (XHTML). -->
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<meta http-equiv="expires" content="43200" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="Docmenta 1.8.0"/>
<title>1.13.13. Creating a new Web-Help layout</title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<link rel="home" href="index.html" title="Docmenta Tutorial and Reference"/>
<link rel="up" href="pt01ch13.html" title="1.13. Advanced Tasks"/>
<link rel="prev" href="customize_webhelp.html" title="1.13.12. Customizing the Web-Help design"/>
<link rel="prev" href="export_import_nodes.html" title="1.13.14. Export, import and migration"/>
<link rel="stylesheet" type="text/css" href="styles.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css"/>
<link rel="stylesheet" type="text/css" href="common/css/positioning.css"/>
<script type="text/javascript">
  var treeCookieId = "treeview-1442167773674";
  var language = "en";
  var w = new Object();
  txt_filesfound = "Results";
  txt_enter_at_least_1_char = "You must enter at least one character.";
  txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
  txt_please_wait = "Please wait. Search in progress...";
  txt_results_for = "Results for: ";
</script>
<script type="text/javascript" src="common/jquery/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery-ui-1.8.2.custom.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery.cookie.js"></script>
<script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script>
<script type="text/javascript" src="search/htmlFileList.js"></script>
<script type="text/javascript" src="search/htmlFileInfoList.js"></script>
<script type="text/javascript" src="search/nwSearchFnt.js"></script>
<script type="text/javascript" src="search/stemmers/en_stemmer.js"></script>
<script type="text/javascript" src="search/index-1.js"></script>
<script type="text/javascript" src="search/index-2.js"></script>
<script type="text/javascript" src="search/index-3.js"></script>
<script type="text/javascript" src="custom.js"></script>
<script type="text/javascript" src="common/main.js"></script>
</head>
<body>
<div id="header"><img id="webhelplogo1" align="left" src='common/images/logo1.png' alt="Logo"/><img id="webhelplogo2" align="right" src='common/images/logo2.png' alt="Logo"/><div class="webhelptitle"><div class="webhelptitle1">Chapter 1.13. Advanced Tasks</div><div class="webhelptitle2">1.13.13. Creating a new Web-Help layout</div></div><div id="navheader" align="right"><table><tr><td><img src="common/images/highlight-blue.gif" alt="H" onclick="toggleHighlight()" id="showHideHighlight" title="Toggle search result highlighting" /></td><td><a id="navhead-prev" accesskey="p" href="customize_webhelp.html"><span class="navlink-text">Prev</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-up" accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-next" accesskey="n" href="export_import_nodes.html"><span class="navlink-text">Next</span></a></td></tr></table></div></div>
<div id="leftnavigation"><div id="tabs"><ul id="tocsearchnavigation" style="display:none"><li id="tocnavigationtab"><a href="#treeDiv"><em>Contents</em></a></li><li id="searchnavigationtab"><a href="#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none;"><div id="treenavigationtitle" style="display:none;">Contents</div><ul id="tree" class="filetree"><li><span class="file"><a href="basic_concepts_terms.html">Installation and basic concepts</a></span><ul><li><span class="file"><a href="intro_product.html">Products</a></span></li><li><span class="file"><a href="intro_version.html">Versions</a></span></li><li><span class="file"><a href="intro_publication.html">Publications</a></span></li><li><span class="file"><a href="intro_output_configuration.html">Output Configurations</a></span></li><li><span class="file"><a href="intro_translation.html">Translation Mode</a></span></li></ul></li><li><span class="file"><a href="tut_create_product.html">Creating a new product</a></span></li><li><span class="file"><a href="tut_content_styles.html">Creating content and styles</a></span><ul><li><span class="file"><a href="tut_sect_para.html">Sections, paragraphs and predefined styles</a></span></li><li><span class="file"><a href="tut_lists.html">Lists</a></span></li><li><span class="file"><a href="tut_tables.html">Tables</a></span></li><li><span class="file"><a href="tut_images.html">Images</a></span></li><li><span class="file"><a href="tut_user_styles.html">User-defined styles</a></span></li></ul></li><li><span class="file"><a href="linking_content.html">Linking content</a></span><ul><li><span class="file"><a href="ref_sections.html">Referencing sections</a></span></li><li><span class="file"><a href="ref_images_tables.html">Referencing images and tables</a></span></li><li><span class="file"><a href="external_links.html">External links</a></span></li><li><span class="file"><a href="ref_files.html">Referencing files</a></span></li></ul></li><li><span class="file"><a href="tracking_progress.html">Tracking the completion status</a></span></li><li><span class="file"><a href="tut_manage_versions.html">Versions and revisions</a></span></li><li><span class="file"><a href="translate_content.html">Translating content</a></span></li><li><span class="file"><a href="tut_export_publication.html">Exporting publications</a></span><ul><li><span class="file"><a href="tut_publication_config.html">Publications</a></span></li><li><span class="file"><a href="tut_output_config.html">Output configurations</a></span></li><li><span class="file"><a href="tut_export_html.html">Export an HTML publication</a></span></li><li><span class="file"><a href="tut_export_pdf.html">Export a PDF publication</a></span></li><li><span class="file"><a href="tut_export_translation.html">Export a translated publication</a></span></li></ul></li><li><span class="file"><a href="tut_templates.html">Templates</a></span><ul><li><span class="file"><a href="tut_static_templates.html">Static Templates</a></span></li><li><span class="file"><a href="tut_dynamic_templates.html">Dynamic Templates</a></span></li></ul></li><li><span class="file"><a href="filtering_content.html">Filtering content</a></span><ul><li><span class="file"><a href="filtering_nodes.html">Node filtering</a></span></li><li><span class="file"><a href="node_variants.html">Node variants</a></span></li></ul></li><li><span class="file"><a href="inclusions.html">Inclusions</a></span><ul><li><span class="file"><a href="structural_inclusions.html">Structural inclusions</a></span></li><li><span class="file"><a href="inline_inclusions.html">Inline inclusions</a></span></li></ul></li><li><span class="file"><a href="tut_manage_users.html">Managing user accounts</a></span></li><li><span class="file"><a href="pt01ch13.html">Advanced Tasks</a></span><ul><li><span class="file"><a href="styling_titlepage.html">Styling the title-page</a></span></li><li><span class="file"><a href="create_coverpage.html">Creating a cover-page</a></span></li><li><span class="file"><a href="adapt_page_design.html">Adapting the PDF page design</a></span><ul><li><span class="file"><a href="tut_set_page_margins.html">Setting the page margins</a></span></li><li><span class="file"><a href="pt01ch13s03s02.html">Styling the chapter header</a></span></li><li><span class="file"><a href="pt01ch13s03s03.html">Defining the header/footer content</a></span></li><li><span class="file"><a href="pt01ch13s03s04.html">Styling the header and footer</a></span></li></ul></li><li><span class="file"><a href="gentext_settings.html">Gentext settings</a></span></li><li><span class="file"><a href="inter_publication_links.html">Inter-publication links</a></span></li><li><span class="file"><a href="create_index_entries.html">Creating index entries</a></span></li><li><span class="file"><a href="create_footnotes.html">Creating footnotes</a></span></li><li><span class="file"><a href="labeled_blocks.html">Labeled blocks</a></span></li><li><span class="file"><a href="line_numbering.html">Formatting of listings</a></span></li><li><span class="file"><a href="syntax_highlighting.html">Syntax highlighting</a></span></li><li><span class="file"><a href="tut_html_preview_images.html">Creating HTML preview images</a></span></li><li><span class="file"><a href="customize_webhelp.html">Customizing the Web-Help design</a></span></li><li id="webhelp-currentid"><span class="file"><a href="webhelp_create_layout.html">Creating a new Web-Help layout</a></span></li><li><span class="file"><a href="export_import_nodes.html">Export, import and migration</a></span></li><li><span class="file"><a href="integrate_other_systems.html">Integration with other systems</a></span></li><li><span class="file"><a href="create_plugin.html">Creating a plug-in</a></span></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="startWebHelpSearch(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><div align="center"><input id="textToSearch" name="textToSearch" type="text" class="searchText"/>&nbsp;<input onclick="startWebHelpSearch(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></div></fieldset></form></div><div id="closeSearchResults" style="display:none"><a href="javascript:closeSearchShowToc();">Contents</a></div><div id="searchResults"><div align="center"></div></div></div></div></div>
<div id="bookpartsnavigation"><ul><li class="book-currentpart"><a href="pt01.html">Tutorial</a></li><li><a href="reference_manual.html">Reference Manual</a></li></ul></div>
<div id="breadcrumbsnavigation" class="breadcrumbs"><span class="breadcrumb-link"><a class="breadcrumb_node" href="pt01.html">Tutorial</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb-link"><a class="breadcrumb_node" href="pt01ch13.html">Advanced Tasks</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb_node breadcrumb_lastnode">Creating a new Web-Help layout</span></div>
<div id="content"><div id="webhelp_create_layout" class="section"><h3>1.13.13. Creating a new Web-Help layout</h3><div title="intro" class="doc-content"><div class="normal-para">Docmenta includes two Web-Help layouts named "classic" and "slim". If the given layouts do not fit your needs you can create your own WebHelp layouts. The recommeded way to create a new layout is to copy one of the existing layouts and to adapt it. The Web-Help layouts are stored in the installation directory</div>
<div class="normal-para indent-level1"><span class="code"><em>&lt;docmenta-webapp&gt;</em>/webdesigner/web_layouts</span></div>
<div class="normal-para">where <span class="code"><em>&lt;docmenta-webapp&gt;</em></span> is the Docmenta web-application directory. Each layout is stored in a sub-folder. The layout-folder contains one or more sub-folders for the different layout-versions. Initially, only a folder named "<span class="code">v1</span>" has to exist. For example, given a layout with name "<span class="code">my_layout</span>", the location of the first version of the layout files is:</div>
<div class="normal-para indent-level1"><span class="code"><em>&lt;docmenta-webapp&gt;</em>/webdesigner/web_layouts/my_layout/v1</span></div>
<div class="normal-para">If you need to create a new version of your layout, e.g. to support new browsers, you just need to copy the files from folder "v1" to a new version-folder named "v2", "v3", "v4" and so on. You can then apply the modifications to the files in the new folder, leaving the original layout-files unmodified. This way, old versions of your layout are still available (furthermore it is easier to track layout modifications).</div>
<div class="header_para">
<div class="normal-para">Copying an existing layout</div>
</div>
<div class="normal-para">As an example, the layout "my_layout" shall be based on the pre-installed "classic"-layout. Therefore copy all files from "<span class="code">webdesigner/web_layouts/classic/v1</span>" to "<span class="code">webdesigner/web_layouts/my_layout/v1</span>".</div>
</div><div title="intro2" class="doc-content"><div class="header_para">
<div class="normal-para">The Web-Help configuration files</div>
</div>
<div class="normal-para">All Web-Help designs have some common elements. However, for different Web-Help designs the elements may be at different positions and may have different sizes and colors. This is controlled by a CSS-file that defines the overall layout of the Web-Help design. Following image shows an example of a Web-Help output:</div>
<div class="normal-para"><div title="Example Web-Help output" class="figure"><div class="mediaobject"><img id="figure_webhelp_example_design" title="Example Web-Help output" style="print-width: 100%;" alt="Example Web-Help output" width="600" src="images/tutorial_webhelp_example_design.gif"     /></div><p class="title">Figure 1.13.88. Example Web-Help output</p></div></div>
<div class="normal-para">The CSS-file, that positions the elements for the output shown above, uses following layout:</div>
<div class="normal-para"><div title="Web-Help example layout" class="figure"><div class="mediaobject"><img title="Web-Help example layout" style="print-width: 100%;" alt="Web-Help example layout" width="600" src="images/tutorial_webhelp_example_layout.gif"     /></div><p class="title">Figure 1.13.89. Web-Help example layout</p></div></div>
<div class="normal-para">The names within the boxes are the CSS selectors that can be used to access the elements. For example, the selector "<span class="code">#header</span>" identifies an element that has an ID attribute with value "<span class="code">header</span>". The selector "<span class="code">.webhelptitle</span>" selects an element that has the CSS class "<span class="code">webhelptitle</span>" assigned. In the illustration above, boxes that belong to the same root-element are shown with the same color. For example, <span class="code">#webhelplogo1</span> is a sub-element of <span class="code">#header</span>, as well as <span class="code">#navheader</span>. The element <span class="code">#bookpartsnavigation</span>, on the other hand, is a separate root element. Note that the hierarchical structure of elements is defined by the Web-Help export and cannot be changed (using CSS). The hierachical structure of the elements is important when using relative positions. As a work-around, in case the hierarchical structure of the Web-Help export is not suitable, CSS allows you to define fixed element-positions, which can be outside of its parent-element.</div>
<div class="normal-para">Note that some elements may be empty or missing, depending on the output-configuration. For example, links to the book-parts are created as child-elements of the <span class="code">#bookpartsnavigation</span> element. However, the links are missing, if the output-configuration setting "Render 1st-Level as" is set to any other value than "<span class="code">book parts</span>" (see <a title="2.6.2.1.2. Numbering settings" href="out_config_numbering.html">Section 2.6.2.1.2, “Numbering settings”</a>). Furthermore, the element <span class="code">#breadcrumbsnavigation</span> only exists, in case the breadcrumbs-setting has been enabled in the output-configuration.</div>
</div><div id="webhelp_customize_example" title="Customizing example" class="doc-content"><div class="header_para">
<div class="normal-para">Customizing the Web-Help layout</div>
</div>
<div class="normal-para">The layout is controlled by two files:</div>
<ul>
<li><span class="code">positioning.css</span></li>
<li><span class="code">webhelp_config.js</span></li>
</ul>
<div class="normal-para">The file <span class="code">positioning.css</span> defines the CSS-rules for all exported Web-Help pages. A CSS-link to this file is included in each exported Web-Help page. The JavaScript-file <span class="code">webhelp_config.js</span> allows to configure the JavaScript-functionality used for the Web-Help pages. The content of this file is inserted at the beginning of a JavaScript-file named <span class="code">main.js</span>. The JavaScript file <span class="code">main.js</span> is generated by the Web-Help export and is referenced from within each exported Web-Help page.</div>
<div class="normal-para">Both files (<span class="code">positioning.css</span> and <span class="code">webhelp_config.js</span>) contain placeholders, e.g. <span class="code">###body_bgcolor###</span>. Placeholders are names surrounded by three hash-characters (<span class="code">###</span>). The placeholders are replaced by the WebHelp-Designer during export. To adapt the layout, the placeholders in the file <span class="code">positioning.css</span> can be moved to different positions. Furthermore, additional CSS-rules/properties can be inserted or existing CSS-rules/properties can be customized.</div>
<div class="normal-para">As an example of layout-customization, we add a shadow to the header element. Open the file <span class="code">positioning.css</span> in the previously created ...<span class="code">/web_layouts/my_layout/v1</span> folder. Search for the CSS selector <span class="code">#header</span>. and insert the CSS-property <span class="code">box-shadow</span>:</div>
<div class="normal-para indent-level1"><div title="Adding shadow to the header box" class="figure"><div class="mediaobject"><img title="Adding shadow to the header box" style="print-width: 50%;" alt="" src="images/tutorial_webhelp_change_shadow.gif"     /></div><p class="title">Figure 1.13.90. Adding shadow to the header box</p></div></div>
<div class="normal-para">Save the changed file <span class="code">positioning.css</span>.</div>
<div class="normal-para">All other files within the folder, i.e. the poperties-file <span class="code">webdesigner.properties</span> and the image-files, are used by the WebHelp-Designer as default values/images. You can replace these files later on. For now, open the WebHelp-Designer and create a new design named "my_design". Select the newly created layout "<span class="code">my_layout</span>", which should now be available in the selection list:</div>
<div class="normal-para"><div title="Creating a design with the customized layout" class="figure"><div class="mediaobject"><img title="Creating a design with the customized layout" alt="" src="images/tutorial_webhelp_mydesign.gif"     /></div><p class="title">Figure 1.13.91. Creating a design with the customized layout</p></div></div>
<div class="normal-para">After having created the new design. the preview-area of the WebHelp-Designer shows a preview of the custom layout. The layout should be identical to the classic layout, except that the header-box has a shadow:</div>
<div class="normal-para"><div title="Custom layout preview" class="figure"><div class="mediaobject"><img title="Custom layout preview" style="print-width: 100%;" alt="" width="680" src="images/tutorial_webhelp_custom_preview.gif"     /></div><p class="title">Figure 1.13.92. Custom layout preview</p></div></div>
<div class="normal-para"> </div>
<div class="header_para">
<div class="normal-para">Defining a default-design</div>
</div>
<div class="normal-para">If the initial default values of your newly created design are not suitable, change the settings of the design "<span class="code">my_design</span>" as required (e.g. set different colors). Save the changed settings. If you want to use the saved design as the default for the layout "<span class="code">my_layout</span>", then delete all image-files and the file <span class="code">webdesigner.properties</span> from the layout folder ...<span class="code">/web_layouts/my_layout/v1</span>. Now, export the saved design as a zip-file. Extract the zip-file to a temporary folder and copy all image-files and the file <span class="code">webdesigner.properties</span> from the temporary folder to the layout-folder. Now, these files are used as defaults for the layout.</div>
</div><div title="Content" class="doc-content"><div class="header_para">
<div class="normal-para">Adding a Web-Help layout as plug-in</div>
</div>
<div class="normal-para">On installation of a new Docmenta version, all custom files that have been copied to the <span class="code">webapps</span> directory are removed. Therefore, in our example, the folder <span class="code">my_layout</span> will be lost after upgrade to a new Docmenta version. To avoid this, you need to create a plug-in and install your layout-files as part of a Docmenta plug-in. See <a title="1.13.16. Creating a plug-in" href="create_plugin.html">Section 1.13.16, “Creating a plug-in”</a> on how to create a plug-in package.</div>
</div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="customize_webhelp.html"><span class="navlink-text">Prev</span></a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a></td><td width="40%" align="right">&#160;<a accesskey="n" href="export_import_nodes.html"><span class="navlink-text">Next</span></a></td></tr><tr><td width="40%" align="left" valign="top">1.13.12. Customizing the Web-Help design&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><span class="navlink-text">Home</span></a></td><td width="40%" align="right" valign="top">&#160;1.13.14. Export, import and migration</td></tr></table></div>
<div class="web_footer">
<p class="align-center">&#169; 2015 - www.docmenta.org</p>
</div>
</div>
<a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">&nbsp;</a></body>
</html>
