<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<!-- Put your custom HTML head tags here and select this file in the HTML output configuration. -->
<!-- Note: The content of this file has to be XML (XHTML). -->
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<meta http-equiv="expires" content="43200" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="Docmenta 1.9.0"/>
<title>1.13.11. Creating HTML preview images</title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<link rel="home" href="index.html" title="Docmenta Tutorial and Reference"/>
<link rel="up" href="pt01ch13.html" title="1.13. Advanced Tasks"/>
<link rel="prev" href="syntax_highlighting.html" title="1.13.10. Syntax highlighting"/>
<link rel="prev" href="customize_webhelp.html" title="1.13.12. Customizing the Web-Help design"/>
<link rel="stylesheet" type="text/css" href="styles.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css"/>
<link rel="stylesheet" type="text/css" href="common/css/positioning.css"/>
<script type="text/javascript">
  var treeCookieId = "treeview-1494620492512";
  var language = "en";
  var w = new Object();
  txt_filesfound = "Results";
  txt_enter_at_least_1_char = "You must enter at least one character.";
  txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
  txt_please_wait = "Please wait. Search in progress...";
  txt_results_for = "Results for: ";
</script>
<script type="text/javascript" src="common/jquery/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery-ui-1.8.2.custom.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery.cookie.js"></script>
<script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script>
<script type="text/javascript" src="search/htmlFileList.js"></script>
<script type="text/javascript" src="search/htmlFileInfoList.js"></script>
<script type="text/javascript" src="search/nwSearchFnt.js"></script>
<script type="text/javascript" src="search/stemmers/en_stemmer.js"></script>
<script type="text/javascript" src="search/index-1.js"></script>
<script type="text/javascript" src="search/index-2.js"></script>
<script type="text/javascript" src="search/index-3.js"></script>
<script type="text/javascript" src="custom.js"></script>
<script type="text/javascript" src="common/main.js"></script>
</head>
<body>
<div id="header"><img id="webhelplogo1" align="left" src='common/images/logo1.png' alt="Logo"/><img id="webhelplogo2" align="right" src='common/images/logo2.png' alt="Logo"/><div class="webhelptitle"><div class="webhelptitle1">Chapter 1.13. Advanced Tasks</div><div class="webhelptitle2">1.13.11. Creating HTML preview images</div></div><div id="navheader" align="right"><table><tr><td><img src="common/images/highlight-blue.gif" alt="H" onclick="toggleHighlight()" id="showHideHighlight" title="Toggle search result highlighting" /></td><td><a id="navhead-prev" accesskey="p" href="syntax_highlighting.html"><span class="navlink-text">Prev</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-up" accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-next" accesskey="n" href="customize_webhelp.html"><span class="navlink-text">Next</span></a></td></tr></table></div></div>
<div id="leftnavigation"><div id="tabs"><ul id="tocsearchnavigation" style="display:none"><li id="tocnavigationtab"><a href="#treeDiv"><em>Contents</em></a></li><li id="searchnavigationtab"><a href="#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none;"><div id="treenavigationtitle" style="display:none;">Contents</div><ul id="tree" class="filetree"><li><span class="file"><a href="basic_concepts_terms.html">Installation and basic concepts</a></span><ul><li><span class="file"><a href="intro_product.html">Products</a></span></li><li><span class="file"><a href="intro_version.html">Versions</a></span></li><li><span class="file"><a href="intro_publication.html">Publications</a></span></li><li><span class="file"><a href="intro_output_configuration.html">Output Configurations</a></span></li><li><span class="file"><a href="intro_translation.html">Translation Mode</a></span></li></ul></li><li><span class="file"><a href="tut_create_product.html">Creating a new product</a></span></li><li><span class="file"><a href="tut_content_styles.html">Creating content and styles</a></span><ul><li><span class="file"><a href="tut_sect_para.html">Sections, paragraphs and predefined styles</a></span></li><li><span class="file"><a href="tut_lists.html">Lists</a></span></li><li><span class="file"><a href="tut_tables.html">Tables</a></span></li><li><span class="file"><a href="tut_images.html">Images</a></span></li><li><span class="file"><a href="tut_user_styles.html">User-defined styles</a></span></li></ul></li><li><span class="file"><a href="linking_content.html">Linking content</a></span><ul><li><span class="file"><a href="ref_sections.html">Referencing sections</a></span></li><li><span class="file"><a href="ref_images_tables.html">Referencing images and tables</a></span></li><li><span class="file"><a href="external_links.html">External links</a></span></li><li><span class="file"><a href="ref_files.html">Referencing files</a></span></li></ul></li><li><span class="file"><a href="tracking_progress.html">Tracking the completion status</a></span></li><li><span class="file"><a href="tut_manage_versions.html">Versions and revisions</a></span></li><li><span class="file"><a href="translate_content.html">Translating content</a></span></li><li><span class="file"><a href="tut_export_publication.html">Exporting publications</a></span><ul><li><span class="file"><a href="tut_publication_config.html">Publications</a></span></li><li><span class="file"><a href="tut_output_config.html">Output configurations</a></span></li><li><span class="file"><a href="tut_export_html.html">Export an HTML publication</a></span></li><li><span class="file"><a href="tut_export_pdf.html">Export a PDF publication</a></span></li><li><span class="file"><a href="tut_export_translation.html">Export a translated publication</a></span></li></ul></li><li><span class="file"><a href="tut_templates.html">Templates</a></span><ul><li><span class="file"><a href="tut_static_templates.html">Static Templates</a></span></li><li><span class="file"><a href="tut_dynamic_templates.html">Dynamic Templates</a></span></li></ul></li><li><span class="file"><a href="filtering_content.html">Filtering content</a></span><ul><li><span class="file"><a href="filtering_nodes.html">Node filtering</a></span></li><li><span class="file"><a href="node_variants.html">Node variants</a></span></li></ul></li><li><span class="file"><a href="inclusions.html">Inclusions</a></span><ul><li><span class="file"><a href="structural_inclusions.html">Structural inclusions</a></span></li><li><span class="file"><a href="inline_inclusions.html">Inline inclusions</a></span></li></ul></li><li><span class="file"><a href="tut_manage_users.html">Managing user accounts</a></span></li><li><span class="file"><a href="pt01ch13.html">Advanced Tasks</a></span><ul><li><span class="file"><a href="styling_titlepage.html">Styling the title-page</a></span></li><li><span class="file"><a href="create_coverpage.html">Creating a cover-page</a></span></li><li><span class="file"><a href="adapt_page_design.html">Adapting the PDF page design</a></span><ul><li><span class="file"><a href="tut_set_page_margins.html">Setting the page margins</a></span></li><li><span class="file"><a href="pt01ch13s03s02.html">Styling the chapter header</a></span></li><li><span class="file"><a href="pt01ch13s03s03.html">Defining the header/footer content</a></span></li><li><span class="file"><a href="pt01ch13s03s04.html">Styling the header and footer</a></span></li></ul></li><li><span class="file"><a href="gentext_settings.html">Gentext settings</a></span></li><li><span class="file"><a href="inter_publication_links.html">Inter-publication links</a></span></li><li><span class="file"><a href="create_index_entries.html">Creating index entries</a></span></li><li><span class="file"><a href="create_footnotes.html">Creating footnotes</a></span></li><li><span class="file"><a href="labeled_blocks.html">Labeled blocks</a></span></li><li><span class="file"><a href="line_numbering.html">Formatting of listings</a></span></li><li><span class="file"><a href="syntax_highlighting.html">Syntax highlighting</a></span></li><li id="webhelp-currentid"><span class="file"><a href="tut_html_preview_images.html">Creating HTML preview images</a></span></li><li><span class="file"><a href="customize_webhelp.html">Customizing the Web-Help design</a></span></li><li><span class="file"><a href="webhelp_create_layout.html">Creating a new Web-Help layout</a></span></li><li><span class="file"><a href="export_import_nodes.html">Export, import and migration</a></span></li><li><span class="file"><a href="integrate_other_systems.html">Integration with other systems</a></span></li><li><span class="file"><a href="create_plugin.html">Creating a plug-in</a></span></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="startWebHelpSearch(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><div align="center"><input id="textToSearch" name="textToSearch" type="text" class="searchText"/>&nbsp;<input onclick="startWebHelpSearch(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></div></fieldset></form></div><div id="closeSearchResults" style="display:none"><a href="javascript:closeSearchShowToc();">Contents</a></div><div id="searchResults"><div align="center"></div></div></div></div></div>
<div id="bookpartsnavigation"><ul><li class="book-currentpart"><a href="tutorial.html">Tutorial</a></li><li><a href="reference_manual.html">User Manual</a></li><li><a href="xhtml_reference.html">XHTML Reference</a></li><li><a href="plugin_developer_guide.html">Plug-in Developer Guide</a></li></ul></div>
<div id="breadcrumbsnavigation" class="breadcrumbs"><span class="breadcrumb-link"><a class="breadcrumb_node" href="tutorial.html">Tutorial</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb-link"><a class="breadcrumb_node" href="pt01ch13.html">Advanced Tasks</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb_node breadcrumb_lastnode">Creating HTML preview images</span></div>
<div id="content"><div id="tut_html_preview_images" class="section"><h3>1.13.11. Creating HTML preview images</h3><div title="Creating HTML preview images" class="doc-content"><div class="normal-para">As an example, this chapter describes how to open an image in a separate window, whenever a user clicks on the image. This is usefull if images are inserted into the content with reduced dimensions. If a user wants to see an image with full resolution, he just has to click on the image.</div>
<div class="normal-para">When inserting an image into the content (see <a href="tut_images.html" title="1.3.4. Images">Section 1.3.4, “Images”</a>), the dimensions can be set in the image dialog, as shown in the following screenshot (image dimensions are highlighted in red):</div>
<div class="normal-para indent-level1"><div title="Setting the image size" class="figure"><div class="mediaobject"><img src="images/tutorial_imagepreview_set_size.gif" alt="" width="364" title="Setting the image size" height="300"     /></div><p class="title">Figure 1.13.80. Setting the image size</p></div></div>
<div class="normal-para">This way it is possible to show a small preview of the image within the content. However, the image itself is still exported with its original dimensions, the image is just scaled for presentation. Therefore, it is possible to show the image with its original dimensions, by opening the image in a new window. (Note: if no dimensions are given in the image dialog, then the image is shown within the content with its original dimensions).</div>
<div class="normal-para">The solution shown here uses custom JavaScript and CSS code which is added to the HTML output.</div>
<div class="normal-para">First of all, open the content node in which you have inserted the image <span class="code">myillustration</span> (see <a href="tut_images.html" title="1.3.4. Images">Section 1.3.4, “Images”</a>). Now, select the image <span class="code">myillustration</span> and open the image dialog by clicking the "Insert/edit image" button (<img src="images/icon_image.gif" alt="" width="14" height="14"     />). On the "Appearance" tab you'll find the image dimensions input fields (see screenshot above). First, click the <img src="images/image_dialog_orig_size_btn.gif" alt="" width="23" height="14"     /> button next to input fields, to get the original dimensions of the image. Then enter a reduced width (and/or height). If the "Constrain proportions" checkbox is checked, then the height or width of the image will be adapted automatically so that the original image proportions are preserved. Save the changed node.</div>
<div class="normal-para">We now have to add some JavaScript code that handles the events when user clicks on the image. User defined JavaScript code can be added in the file <img src="images/sys_folder_icon.gif" alt="" width="14" height="14"     /> <span class="code">System</span> &gt; <img src="images/folderopen.gif" alt="" width="14" height="14"     /> <span class="code">HTML customization</span> &gt; <img src="images/file_icon.gif" alt="" width="14" height="14"     /> <span class="code">custom_javascript.js</span>. Therefore, download this file (right-click the file and choose "Download") and open the file in a regular text editor. Add following JavaScript code to the file:</div>
<div class="code_listing">
<div class="normal-para">function initpage() {<br    />  var img_cnt = document.images.length;<br    />  for (var i=0; i &lt; img_cnt; i++) {<br    />    var img = document.images[i];<br    />    if (img.parentNode.className == 'mediaobject') {<br    />      img.onclick = openpic;<br    />    }<br    />  }<br    />}<br    /><br    />function openpic() {<br    />  window.open(this.src, '_blank',  <br    />     'location=no,menubar=yes,resizable=yes,scrollbars=yes,status=yes,toolbar=yes');<br    />}<br    /><br    />window.onload = initpage;</div>
</div>
<div class="normal-para">Save the file and upload the changed file to the folder <img src="images/sys_folder_icon.gif" alt="" width="14" height="14"     /> <span class="code">System</span> &gt; <img src="images/folderopen.gif" alt="" width="14" height="14"     /> <span class="code">HTML customization</span>. You will get a warning that a file <img src="images/file_icon.gif" alt="" width="14" height="14"     /> <span class="code">custom_javascript.js</span> already exists. Choose "Overwrite" to replace <img src="images/file_icon.gif" alt="" width="14" height="14"     /> <span class="code">custom_javascript.js</span> with the uploaded file.</div>
<div class="normal-para">Additionally, you can add a CSS style that changes the appearance of the mouse pointer when the user moves the mouse over the image, to indicate that the user can click on the image. To achieve this, download the file <img src="images/sys_folder_icon.gif" alt="" width="14" height="14"     /> <span class="code">System</span> &gt; <img src="images/folderopen.gif" alt="" width="14" height="14"     /> <span class="code">HTML customization</span> &gt; <img src="images/file_icon.gif" alt="" width="14" height="14"     /> <span class="code">custom_styles.css</span> and add the following lines to the file:</div>
<div class="code_listing">
<div class="normal-para">div.mediaobject img { cursor:pointer; }</div>
</div>
<div class="normal-para">Save the file and upload the changed file to the folder <img src="images/sys_folder_icon.gif" alt="" width="14" height="14"     /> <span class="code">System</span> &gt; <img src="images/folderopen.gif" alt="" width="14" height="14"     /> <span class="code">HTML customization</span>. You will get a warning that a file <img src="images/file_icon.gif" alt="" width="14" height="14"     /> <span class="code">custom_styles.css</span> already exists. Choose "Overwrite" to replace <img src="images/file_icon.gif" alt="" width="14" height="14"     /> <span class="code">custom_styles.css</span> with the uploaded file.</div>
<div class="normal-para">Finally, we have to set the CSS and JavaScript files in the HTML output  configuration. To do this, open the HTML output configuration dialog as  shown in <a href="tut_output_config.html" title="1.8.2. Output configurations">Section 1.8.2, “Output configurations”</a>. Select the custom CSS and Javascript files from the listboxes as shown in the following screenshot:</div>
<div class="normal-para indent-level1"><div title="Setting the JavaScript file in the output configuration" class="figure"><div class="mediaobject"><img src="images/tutorial_imagepreview_outconfig_cssjs.gif" alt="" width="360" title="Setting the JavaScript file in the output configuration" height="356"     /></div><p class="title">Figure 1.13.81. Setting the JavaScript file in the output configuration</p></div></div>
<div class="normal-para">Save the output configuration by clicking "Okay". Now, when a publication is exported with this output configuration, the selected CSS and JavaScript file will be included in the head of each exported HTML page.</div>
<div class="normal-para">To see if everything works fine, export a publication, that contains the previously edited image <span class="code">myillustration</span> and choose the HTML output configuration. In the exported publication, the image should be shown with reduced size. If you click on the image, the image should be opened with its original dimensions in a new window.</div></div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="syntax_highlighting.html"><span class="navlink-text">Prev</span></a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a></td><td width="40%" align="right">&#160;<a accesskey="n" href="customize_webhelp.html"><span class="navlink-text">Next</span></a></td></tr><tr><td width="40%" align="left" valign="top">1.13.10. Syntax highlighting&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><span class="navlink-text">Home</span></a></td><td width="40%" align="right" valign="top">&#160;1.13.12. Customizing the Web-Help design</td></tr></table></div>
<div class="web_footer">
<p class="align-center">&#169; 2017 - www.docmenta.org</p>
</div>
</div>
<a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">&nbsp;</a></body>
</html>
