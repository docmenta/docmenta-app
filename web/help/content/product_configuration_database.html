<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<!-- Put your custom HTML head tags here and select this file in the HTML output configuration. -->
<!-- Note: The content of this file has to be XML (XHTML). -->
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<meta http-equiv="expires" content="43200" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="Docmenta 1.9.0"/>
<title>2.7.1.2.3. Database product configuration</title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<link rel="home" href="index.html" title="Docmenta Tutorial and Reference"/>
<link rel="up" href="create_product.html" title="2.7.1.2. Creating a new product"/>
<link rel="prev" href="product_configuration_embedded_db.html" title="2.7.1.2.2. Embedded-database product configuration"/>
<link rel="prev" href="add_product.html" title="2.7.1.3. Adding a product"/>
<link rel="stylesheet" type="text/css" href="styles.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css"/>
<link rel="stylesheet" type="text/css" href="common/css/positioning.css"/>
<script type="text/javascript">
  var treeCookieId = "treeview-1494620492689";
  var language = "en";
  var w = new Object();
  txt_filesfound = "Results";
  txt_enter_at_least_1_char = "You must enter at least one character.";
  txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
  txt_please_wait = "Please wait. Search in progress...";
  txt_results_for = "Results for: ";
</script>
<script type="text/javascript" src="common/jquery/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery-ui-1.8.2.custom.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery.cookie.js"></script>
<script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script>
<script type="text/javascript" src="search/htmlFileList.js"></script>
<script type="text/javascript" src="search/htmlFileInfoList.js"></script>
<script type="text/javascript" src="search/nwSearchFnt.js"></script>
<script type="text/javascript" src="search/stemmers/en_stemmer.js"></script>
<script type="text/javascript" src="search/index-1.js"></script>
<script type="text/javascript" src="search/index-2.js"></script>
<script type="text/javascript" src="search/index-3.js"></script>
<script type="text/javascript" src="custom.js"></script>
<script type="text/javascript" src="common/main.js"></script>
</head>
<body>
<div id="header"><img id="webhelplogo1" align="left" src='common/images/logo1.png' alt="Logo"/><img id="webhelplogo2" align="right" src='common/images/logo2.png' alt="Logo"/><div class="webhelptitle"><div class="webhelptitle1">2.7.1.2. Creating a new product</div><div class="webhelptitle2">2.7.1.2.3. Database product configuration</div></div><div id="navheader" align="right"><table><tr><td><img src="common/images/highlight-blue.gif" alt="H" onclick="toggleHighlight()" id="showHideHighlight" title="Toggle search result highlighting" /></td><td><a id="navhead-prev" accesskey="p" href="product_configuration_embedded_db.html"><span class="navlink-text">Prev</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-up" accesskey="u" href="create_product.html"><span class="navlink-text">Up</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-next" accesskey="n" href="add_product.html"><span class="navlink-text">Next</span></a></td></tr></table></div></div>
<div id="leftnavigation"><div id="tabs"><ul id="tocsearchnavigation" style="display:none"><li id="tocnavigationtab"><a href="#treeDiv"><em>Contents</em></a></li><li id="searchnavigationtab"><a href="#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none;"><div id="treenavigationtitle" style="display:none;">Contents</div><ul id="tree" class="filetree"><li><span class="file"><a href="install_instructions.html">Installation</a></span><ul><li><span class="file"><a href="install_requirements.html">Requirements</a></span></li><li><span class="file"><a href="install_download.html">Download</a></span></li><li><span class="file"><a href="install_package.html">Package installation</a></span><ul><li><span class="file"><a href="install_war.html">Installing the war package</a></span></li><li><span class="file"><a href="install_zip.html">Installing the Docmenta+Tomcat zip package</a></span></li><li><span class="file"><a href="install_winexe.html">Installing the Windows installer package</a></span></li><li><span class="file"><a href="install_upgrade.html">Upgrading</a></span></li></ul></li><li><span class="file"><a href="install_setup.html">Setup</a></span></li></ul></li><li><span class="file"><a href="main_window.html">Main window</a></span></li><li><span class="file"><a href="content_workspace.html">Content workspace</a></span><ul><li><span class="file"><a href="product_tree.html">Product-tree</a></span></li><li><span class="file"><a href="root_folders.html">Root folders</a></span></li><li><span class="file"><a href="node_types.html">Node types</a></span><ul><li><span class="file"><a href="section_nodes.html">Section-nodes</a></span></li><li><span class="file"><a href="pt02ch03s03s02.html">Content-nodes</a></span></li><li><span class="file"><a href="image_file.html">Image-files</a></span></li><li><span class="file"><a href="data_file.html">Data-file</a></span></li><li><span class="file"><a href="inclusion_nodes.html">Inclusion-nodes</a></span></li><li><span class="file"><a href="image_folder.html">Image-folder</a></span></li><li><span class="file"><a href="file_folder.html">File-folder</a></span></li></ul></li><li><span class="file"><a href="content_context_menu.html">Context menu</a></span><ul><li><span class="file"><a href="insert_edit_nodes.html">Inserting and editing nodes</a></span></li><li><span class="file"><a href="cut_paste_delete.html">Cut, copy, paste and delete</a></span></li><li><span class="file"><a href="preview_pdf.html">Preview PDF</a></span></li><li><span class="file"><a href="upload_download.html">File upload and download</a></span></li><li><span class="file"><a href="compare_versions.html">Revision history</a></span></li><li><span class="file"><a href="search_replace.html">Searching and replacing text</a></span></li><li><span class="file"><a href="find_nodes.html">Finding nodes</a></span></li><li><span class="file"><a href="consistency_check.html">Consistency-Check</a></span></li></ul></li><li><span class="file"><a href="translating_nodes.html">Translating nodes</a></span></li><li><span class="file"><a href="gentext_config.html">Gentext configuration</a></span></li><li><span class="file"><a href="content_toolbar.html">Toolbar</a></span></li><li><span class="file"><a href="content_editor.html">Editing content</a></span><ul><li><span class="file"><a href="basic_editing.html">Basic editing</a></span></li><li><span class="file"><a href="apply_styles.html">Applying styles</a></span></li><li><span class="file"><a href="pt02ch03s08s03.html">Aligning paragraphs</a></span></li><li><span class="file"><a href="indent_para.html">Indenting paragraphs</a></span></li><li><span class="file"><a href="list_element.html">Lists</a></span></li><li><span class="file"><a href="table_element.html">Tables</a></span></li><li><span class="file"><a href="image_element.html">Images</a></span></li><li><span class="file"><a href="link_element.html">Links</a></span></li><li><span class="file"><a href="quick_links.html">Quick-Links</a></span></li><li><span class="file"><a href="anchors.html">Anchors</a></span></li><li><span class="file"><a href="special_chars.html">Special characters</a></span><ul><li><span class="file"><a href="insert_char_entity.html">Character entities</a></span></li><li><span class="file"><a href="pt02ch03s08s11s02.html">Non-breaking space</a></span></li></ul></li><li><span class="file"><a href="insert_template_content.html">Templates</a></span></li><li><span class="file"><a href="html_source.html">Editing the HTML source</a></span></li><li><span class="file"><a href="page_breaks.html">Controlling page breaks</a></span><ul><li><span class="file"><a href="pt02ch03s08s14s01.html">Hard page breaks</a></span></li><li><span class="file"><a href="pt02ch03s08s14s02.html">Soft page breaks</a></span></li><li><span class="file"><a href="pt02ch03s08s14s03.html">Keep together blocks</a></span></li></ul></li></ul></li></ul></li><li><span class="file"><a href="styles_workspace.html">Styles workspace</a></span><ul><li><span class="file"><a href="inline_block_styles.html">Inline- and block styles</a></span></li><li><span class="file"><a href="predefined_styles.html">Pre-defined styles</a></span></li><li><span class="file"><a href="user_defined_styles.html">Creating a user-defined style</a></span></li><li><span class="file"><a href="edit_style.html">Editing styles</a></span></li><li><span class="file"><a href="delete_styles.html">Deleting styles</a></span></li><li><span class="file"><a href="using_style_variants.html">Using style variants</a></span></li><li><span class="file"><a href="style_variants.html">Creating a style variant</a></span></li><li><span class="file"><a href="export_styles.html">Exporting styles</a></span></li><li><span class="file"><a href="import_styles.html">Importing styles</a></span></li></ul></li><li><span class="file"><a href="versioning_workspace.html">Versioning workspace</a></span><ul><li><span class="file"><a href="versioning_concept.html">Versioning concept</a></span></li><li><span class="file"><a href="create_product_version.html">Creating a new version</a></span></li><li><span class="file"><a href="release_product_version.html">Releasing a version</a></span></li><li><span class="file"><a href="unrelease_product_version.html">Unreleasing a version</a></span></li><li><span class="file"><a href="rename_product_version.html">Renaming a version</a></span></li><li><span class="file"><a href="delete_product_version.html">Deleting a version</a></span></li><li><span class="file"><a href="clear_revisions.html">Clear revisions</a></span></li><li><span class="file"><a href="show_connected_users.html">Show connected users</a></span></li></ul></li><li><span class="file"><a href="publishing_workspace.html">Publishing workspace</a></span><ul><li><span class="file"><a href="publication_configuration.html">Publication configuration</a></span><ul><li><span class="file"><a href="create_publication_config.html">Creating a publication configuration</a></span></li><li><span class="file"><a href="edit_publication_config.html">Editing a publication configuration</a></span></li><li><span class="file"><a href="delete_publication_config.html">Deleting a publication configuration</a></span></li><li><span class="file"><a href="copy_publication_config.html">Copying a publication configuration</a></span></li></ul></li><li><span class="file"><a href="output_configuration.html">Output configuration</a></span><ul><li><span class="file"><a href="edit_output_config.html">Editing an output configuration</a></span><ul><li><span class="file"><a href="out_config_general.html">General output settings</a></span></li><li><span class="file"><a href="out_config_numbering.html">Numbering settings</a></span></li><li><span class="file"><a href="out_config_html.html">HTML output settings</a></span></li><li><span class="file"><a href="out_config_pdf.html">PDF output settings</a></span></li><li><span class="file"><a href="out_config_header_footer.html">Header/Footer settings</a></span></li></ul></li><li><span class="file"><a href="create_output_config.html">Creating an output configuration</a></span></li><li><span class="file"><a href="delete_output_config.html">Deleting an output configuration</a></span></li><li><span class="file"><a href="copy_output_config.html">Copying an output configuration</a></span></li></ul></li><li><span class="file"><a href="publication_export.html">Publication export</a></span><ul><li><span class="file"><a href="start_publication_export.html">Starting a new export</a></span></li><li><span class="file"><a href="show_export_queue.html">The export queue</a></span></li><li><span class="file"><a href="edit_publication_export.html">Editing an export</a></span></li><li><span class="file"><a href="delete_publication_export.html">Deleting an export</a></span></li></ul></li><li><span class="file"><a href="applic_configuration.html">Applicability configuration</a></span></li></ul></li><li><span class="file"><a href="administration_workspace.html">Administration workspace</a></span><ul><li><span class="file"><a href="manage_products.html">Managing products</a></span><ul><li><span class="file"><a href="storage_types.html">Storage types</a></span><ul><li><span class="file"><a href="storage_type_fs.html">Filesystem Storage</a></span></li><li><span class="file"><a href="storage_type_external_db.html">External Database Storage</a></span></li><li><span class="file"><a href="storage_type_embedded_db.html">Embedded Database Storage</a></span></li></ul></li><li><span class="file"><a href="create_product.html">Creating a new product</a></span><ul><li><span class="file"><a href="product_configuration_filesystem.html">Filesystem product configuration</a></span></li><li><span class="file"><a href="product_configuration_embedded_db.html">Embedded-database product configuration</a></span></li><li id="webhelp-currentid"><span class="file"><a href="product_configuration_database.html">Database product configuration</a></span></li></ul></li><li><span class="file"><a href="add_product.html">Adding a product</a></span></li><li><span class="file"><a href="edit_product.html">Editing a product</a></span></li><li><span class="file"><a href="delete_product.html">Deleting a product</a></span></li><li><span class="file"><a href="copy_product.html">Copying a product</a></span></li><li><span class="file"><a href="disable_enable_product.html">Disabling and enabling products</a></span></li></ul></li><li><span class="file"><a href="manage_users.html">Managing users</a></span><ul><li><span class="file"><a href="create_user.html">Creating new users</a></span></li><li><span class="file"><a href="edit_user.html">Editing the user profile</a></span></li><li><span class="file"><a href="delete_user.html">Deleting users</a></span></li></ul></li><li><span class="file"><a href="manage_usergroups.html">Managing user groups</a></span><ul><li><span class="file"><a href="user_groups.html">User groups</a></span></li><li><span class="file"><a href="access_rights.html">Access rights</a></span></li><li><span class="file"><a href="members.html">Members</a></span></li></ul></li><li><span class="file"><a href="configure_char_entities.html">Defining character entities</a></span></li><li><span class="file"><a href="manage_plugins.html">Installing Plug-ins</a></span></li><li><span class="file"><a href="rule_config.html">Rule configuration</a></span><ul><li><span class="file"><a href="pt02ch07s06s01.html">Pre-defined rules</a></span></li><li><span class="file"><a href="rule_config_edit.html">Editing the rule configuration</a></span></li><li><span class="file"><a href="pt02ch07s06s03.html">Adding new rules</a></span></li></ul></li><li><span class="file"><a href="autoformat_config.html">Auto-Format class registration</a></span></li><li><span class="file"><a href="app_settings.html">Application settings</a></span></li></ul></li><li><span class="file"><a href="ref_autoformat_classes.html">Auto-Format Class Reference</a></span><ul><li><span class="file"><a href="ref_af_applytemplate.html">org.docma.plugin.examples.ApplyTemplate</a></span></li><li><span class="file"><a href="ref_af_formatlines.html">org.docma.plugin.examples.FormatLines</a></span></li><li><span class="file"><a href="ref_af_regexphighlight.html">org.docma.plugin.examples.RegExpHighlight</a></span></li><li><span class="file"><a href="ref_af_xsltautoformat.html">org.docma.plugin.examples.XSLTAutoFormat</a></span></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="startWebHelpSearch(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><div align="center"><input id="textToSearch" name="textToSearch" type="text" class="searchText"/>&nbsp;<input onclick="startWebHelpSearch(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></div></fieldset></form></div><div id="closeSearchResults" style="display:none"><a href="javascript:closeSearchShowToc();">Contents</a></div><div id="searchResults"><div align="center"></div></div></div></div></div>
<div id="bookpartsnavigation"><ul><li><a href="tutorial.html">Tutorial</a></li><li class="book-currentpart"><a href="reference_manual.html">User Manual</a></li><li><a href="xhtml_reference.html">XHTML Reference</a></li><li><a href="plugin_developer_guide.html">Plug-in Developer Guide</a></li></ul></div>
<div id="breadcrumbsnavigation" class="breadcrumbs"><span class="breadcrumb-link"><a class="breadcrumb_node" href="reference_manual.html">User Manual</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb-link"><a class="breadcrumb_node" href="administration_workspace.html">Administration workspace</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb-link"><a class="breadcrumb_node" href="manage_products.html">Managing products</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb-link"><a class="breadcrumb_node" href="create_product.html">Creating a new product</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb_node breadcrumb_lastnode">Database product configuration</span></div>
<div id="content"><div id="product_configuration_database" class="section"><h5>2.7.1.2.3. Database product configuration</h5><div title="Database product configuration" class="doc-content"><div class="normal-para">To use external database storage, select the storage-type "External Database (JDBC)". For the connection to the external database, JDBC connection properties have to provided as described below. All other settings are identical to filesystem-storage (see <a href="product_configuration_filesystem.html" title="2.7.1.2.1. Filesystem product configuration">Section 2.7.1.2.1, “Filesystem product configuration”</a>).</div>
<div class="normal-para">The checkbox "Store publication exports in database" defines whether exported publications will be stored inside or outside of the database. In the later case, the publication files are stored in the product directory (see <a href="storage_types.html" title="2.7.1.1. Storage types">Section 2.7.1.1, “Storage types”</a> for details on the filesystem structure).</div>
</div><div title="External DB" class="doc-content"><div class="header_para">
<div class="normal-para">Connection properties</div>
</div>
<div class="normal-para">If the storage type "External Database (JDBC)" has been selected, then following connection properties have to be set:</div>
<ul>
<li><strong> Connection URL</strong><br    />Enter the JDBC connection URL or the JNDI URL of the database instance. Following an example of a JDBC connection URL to a MySQL database instance:</li>
</ul>
<div class="normal-para indent-level1"><span class="code">  jdbc:mysql://localhost:3306/docmentadb</span></div>
<div class="normal-para indent-level1">For production use it is however recommended to configure a datasource within the application server and to enter the datasource JNDI name. Following an example of a JNDI connection URL:</div>
<div class="normal-para indent-level1"><span class="code">  java:/comp/env/jdbc/docmentadb</span></div>
<div class="normal-para indent-level1">Note that a JNDI connection URL has to start with "<span class="code">java:</span>". See also the following section on connection pooling for further information on configuring database connections.</div>
<ul>
<li><strong>SQL Dialect</strong><br    />Select the database system to be used. Note that all databases that are supported by Hibernate 3.6 are listed (however, not all of the listed databases have been tested to work with Docmenta). If the version number of your  database system is not listed, then select the version that is nearest to your used database version. For example, if you use Oracle 12, then select Oracle 10g (if 10g is the highest listed Oracle version).</li>
<li><strong>JDBC Driver Class</strong><br    />Enter the JDBC driver classname. For example, the MySQL driver is named <span class="code">"com.mysql.jdbc.Driver"</span>. Consult the documentation of your database supplier, if you do not know the driver classname. Note that the JDBC driver has to be available in the Java classpath of the Docmenta web-application (e.g. add the JDBC driver libraries to the <span class="code">WEB-INF/lib</span> directory of the Docmenta installation and restart the web-server).</li>
<li><strong>User ID</strong><br    />Enter the ID of the database user that Docmenta shall use for connections to the database.</li>
<li><strong>User Password</strong><br    />Enter the password of the database user.</li>
</ul>
<div class="normal-para"> Following a JDBC connection example:</div>
<div class="normal-para"><div title="JDBC connection (example)" class="figure"><div class="mediaobject"><img src="images/screen_jdbc_connection_example2.gif" alt="" title="JDBC connection (example)"     /></div><p class="title">Figure 2.7.12. JDBC connection (example)</p></div></div>
</div><div title="MySQL issue" class="doc-content"><div class="header_important">
<div class="normal-para">MySQL max_allowed_packet</div>
</div>
<div class="important_box">
<div class="normal-para">MySQL restricts the packet size transferred via JDBC by the value given in the variable <span class="code">max_allowed_packet</span>. Therefore, this variable has to be set to more than the maximum file-size that shall be storable in the product database. For example, if the publication archive is stored in the database, and the exported publications have a size of up to 10 MB, then the variable <span class="code">max_allowed_packet</span> should be set to 11 MB or more. Note that the MySQL variables can be set in the configuration file <span class="code">my.ini</span> in the MySQL <span class="code">bin</span> directory.</div>
</div>
</div><div title="DB connection pooling" class="doc-content"><div class="header_para">
<div class="normal-para">Connection pooling</div>
</div>
<div class="normal-para">As creating a connection to an external database is time-consuming, it is recommended to enable connection pooling for external database storage. This is especially true, if the database is located on a different host than the web-server.</div>
<div class="normal-para">Note that even with connection pooling it is recommended to place the web-server and the database-server on the same host, as fine-grained communication is taking place between the web-application and the database.</div>
<div class="normal-para">Hibernate is shipped with a rudimentary connection pool  which is by default enabled for external database-storage. For embedded database-storage the connection pool is disabled by default, as it does not give any notable performance gain.</div>
<div class="normal-para">The settings of the Hibernate connection pool can be changed by editing the files <span class="code">WEB-INF/db_config.properties</span> (used for external databases) and <span class="code">WEB-INF/db_config_embedded.properties</span> (used for embedded databases). Both files are located in the web-application directory. If the files do not exist, just create them to change the default settings. Following an example configuration that sets the maximum number of pooled connection to 30:</div>
<div class="code_listing">
<div class="normal-para">hibernate.connection.pool_size=30</div>
</div>
<div class="normal-para">For more information on configuring database connection pooling see the Hibernate documentation (<a href="http://www.hibernate.org" target="_top">http://www.hibernate.org</a>). Note however, that the default Hibernate connection pool is not intended for use in a production system.</div>
<div class="normal-para">In a production system it is recommended to configure the application server to provide a pooled datasource. See the Tomcat <a href="http://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html" target="_top">JNDI Datasource HOW-TO</a> for more information on configuring JDBC datasources. If Docmenta is deployed in an Apache Tomcat 7 container, then also the built-in <a href="http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html" target="_top">Tomcat JDBC Connection Pool</a> can be used. For example, a pooled JNDI datasource can be configured by adding following resource definition to the <span class="code">META-INF/context.xml</span> file in the web-application directory (the example shows the connection to a MySQL database):</div>
<div class="code_listing">
<div class="normal-para">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br    />&lt;<strong>Context</strong>&gt;<br    /><br    /> &lt;<strong>Resource</strong> <strong>name</strong>="jdbc/docmentadb"<br    />           <strong>auth</strong>="Container"<br    />           <strong>type</strong>="javax.sql.DataSource"<br    />           <strong>factory</strong>="org.apache.tomcat.jdbc.pool.DataSourceFactory"<br    />           <strong>testWhileIdle</strong>="true"<br    />           <strong>testOnBorrow</strong>="true"<br    />           <strong>testOnReturn</strong>="false"<br    />           <strong>validationQuery</strong>="SELECT 1"<br    />           <strong>validationInterval</strong>="30000"<br    />           <strong>timeBetweenEvictionRunsMillis</strong>="30000"<br    />           <strong>maxActive</strong>="100"<br    />           <strong>minIdle</strong>="10"<br    />           <strong>maxWait</strong>="20000"<br    />           <strong>initialSize</strong>="10"<br    />           <strong>removeAbandonedTimeout</strong>="1800"<br    />           <strong>removeAbandoned</strong>="true"<br    />           <strong>logAbandoned</strong>="true"<br    />           <strong>minEvictableIdleTimeMillis</strong>="60000"<br    />           <strong>jmxEnabled</strong>="true"<br    />           <strong>jdbcInterceptors</strong>=<br    />            "org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;<br    />            org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer"<br    />           <strong>username</strong>="root"<br    />           <strong>password</strong>="password"<br    />           <strong>driverClassName</strong>="com.mysql.jdbc.Driver"<br    />           <strong>url</strong>="jdbc:mysql://localhost:3306/docdb" /&gt;<br    />&lt;/<strong>Context</strong>&gt;</div>
</div>
<div class="normal-para">Note that if <span class="code">removeAbandoned</span> is set to "<span class="code">true</span>", then the value <span class="code">removeAbandonedTimeout</span> should be set to at least 1800 (30 minutes).</div>
<div class="normal-para">The JNDI datasource can then be addressed in the product configuration as shown in the following example:</div>
<div class="normal-para"><div title="JNDI connection (example)" class="figure"><div class="mediaobject"><img src="images/screen_jndi_connection_example.gif" alt="" title="JNDI connection (example)"     /></div><p class="title">Figure 2.7.13. JNDI connection (example)</p></div></div>
<div class="normal-para">As can be seen in the example above, a JNDI connection URL has to start with "<span class="code">java:/comp/env/</span>" followed by the JNDI resource name. In case of a JNDI connection, the Driver-Class, User-ID and Password are optional, because these values are normally given in the JNDI resource configuration.</div>
</div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="product_configuration_embedded_db.html"><span class="navlink-text">Prev</span></a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="create_product.html"><span class="navlink-text">Up</span></a></td><td width="40%" align="right">&#160;<a accesskey="n" href="add_product.html"><span class="navlink-text">Next</span></a></td></tr><tr><td width="40%" align="left" valign="top">2.7.1.2.2. Embedded-database product configuration&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><span class="navlink-text">Home</span></a></td><td width="40%" align="right" valign="top">&#160;2.7.1.3. Adding a product</td></tr></table></div>
<div class="web_footer">
<p class="align-center">&#169; 2017 - www.docmenta.org</p>
</div>
</div>
<a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">&nbsp;</a></body>
</html>
