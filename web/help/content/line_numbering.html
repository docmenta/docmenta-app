<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<!-- Put your custom HTML head tags here and select this file in the HTML output configuration. -->
<!-- Note: The content of this file has to be XML (XHTML). -->
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<meta http-equiv="expires" content="43200" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="Docmenta 1.8.0"/>
<title>1.13.9. Formatting of listings</title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<link rel="home" href="index.html" title="Docmenta Tutorial and Reference"/>
<link rel="up" href="pt01ch13.html" title="1.13. Advanced Tasks"/>
<link rel="prev" href="labeled_blocks.html" title="1.13.8. Labeled blocks"/>
<link rel="prev" href="syntax_highlighting.html" title="1.13.10. Syntax highlighting"/>
<link rel="stylesheet" type="text/css" href="styles.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/>
<link rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css"/>
<link rel="stylesheet" type="text/css" href="common/css/positioning.css"/>
<script type="text/javascript">
  var treeCookieId = "treeview-1442167773662";
  var language = "en";
  var w = new Object();
  txt_filesfound = "Results";
  txt_enter_at_least_1_char = "You must enter at least one character.";
  txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
  txt_please_wait = "Please wait. Search in progress...";
  txt_results_for = "Results for: ";
</script>
<script type="text/javascript" src="common/jquery/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery-ui-1.8.2.custom.min.js"></script>
<script type="text/javascript" src="common/jquery/jquery.cookie.js"></script>
<script type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js"></script>
<script type="text/javascript" src="search/htmlFileList.js"></script>
<script type="text/javascript" src="search/htmlFileInfoList.js"></script>
<script type="text/javascript" src="search/nwSearchFnt.js"></script>
<script type="text/javascript" src="search/stemmers/en_stemmer.js"></script>
<script type="text/javascript" src="search/index-1.js"></script>
<script type="text/javascript" src="search/index-2.js"></script>
<script type="text/javascript" src="search/index-3.js"></script>
<script type="text/javascript" src="custom.js"></script>
<script type="text/javascript" src="common/main.js"></script>
</head>
<body>
<div id="header"><img id="webhelplogo1" align="left" src='common/images/logo1.png' alt="Logo"/><img id="webhelplogo2" align="right" src='common/images/logo2.png' alt="Logo"/><div class="webhelptitle"><div class="webhelptitle1">Chapter 1.13. Advanced Tasks</div><div class="webhelptitle2">1.13.9. Formatting of listings</div></div><div id="navheader" align="right"><table><tr><td><img src="common/images/highlight-blue.gif" alt="H" onclick="toggleHighlight()" id="showHideHighlight" title="Toggle search result highlighting" /></td><td><a id="navhead-prev" accesskey="p" href="labeled_blocks.html"><span class="navlink-text">Prev</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-up" accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a><span class="navhead-separator">&nbsp;|&nbsp;</span><a id="navhead-next" accesskey="n" href="syntax_highlighting.html"><span class="navlink-text">Next</span></a></td></tr></table></div></div>
<div id="leftnavigation"><div id="tabs"><ul id="tocsearchnavigation" style="display:none"><li id="tocnavigationtab"><a href="#treeDiv"><em>Contents</em></a></li><li id="searchnavigationtab"><a href="#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none;"><div id="treenavigationtitle" style="display:none;">Contents</div><ul id="tree" class="filetree"><li><span class="file"><a href="basic_concepts_terms.html">Installation and basic concepts</a></span><ul><li><span class="file"><a href="intro_product.html">Products</a></span></li><li><span class="file"><a href="intro_version.html">Versions</a></span></li><li><span class="file"><a href="intro_publication.html">Publications</a></span></li><li><span class="file"><a href="intro_output_configuration.html">Output Configurations</a></span></li><li><span class="file"><a href="intro_translation.html">Translation Mode</a></span></li></ul></li><li><span class="file"><a href="tut_create_product.html">Creating a new product</a></span></li><li><span class="file"><a href="tut_content_styles.html">Creating content and styles</a></span><ul><li><span class="file"><a href="tut_sect_para.html">Sections, paragraphs and predefined styles</a></span></li><li><span class="file"><a href="tut_lists.html">Lists</a></span></li><li><span class="file"><a href="tut_tables.html">Tables</a></span></li><li><span class="file"><a href="tut_images.html">Images</a></span></li><li><span class="file"><a href="tut_user_styles.html">User-defined styles</a></span></li></ul></li><li><span class="file"><a href="linking_content.html">Linking content</a></span><ul><li><span class="file"><a href="ref_sections.html">Referencing sections</a></span></li><li><span class="file"><a href="ref_images_tables.html">Referencing images and tables</a></span></li><li><span class="file"><a href="external_links.html">External links</a></span></li><li><span class="file"><a href="ref_files.html">Referencing files</a></span></li></ul></li><li><span class="file"><a href="tracking_progress.html">Tracking the completion status</a></span></li><li><span class="file"><a href="tut_manage_versions.html">Versions and revisions</a></span></li><li><span class="file"><a href="translate_content.html">Translating content</a></span></li><li><span class="file"><a href="tut_export_publication.html">Exporting publications</a></span><ul><li><span class="file"><a href="tut_publication_config.html">Publications</a></span></li><li><span class="file"><a href="tut_output_config.html">Output configurations</a></span></li><li><span class="file"><a href="tut_export_html.html">Export an HTML publication</a></span></li><li><span class="file"><a href="tut_export_pdf.html">Export a PDF publication</a></span></li><li><span class="file"><a href="tut_export_translation.html">Export a translated publication</a></span></li></ul></li><li><span class="file"><a href="tut_templates.html">Templates</a></span><ul><li><span class="file"><a href="tut_static_templates.html">Static Templates</a></span></li><li><span class="file"><a href="tut_dynamic_templates.html">Dynamic Templates</a></span></li></ul></li><li><span class="file"><a href="filtering_content.html">Filtering content</a></span><ul><li><span class="file"><a href="filtering_nodes.html">Node filtering</a></span></li><li><span class="file"><a href="node_variants.html">Node variants</a></span></li></ul></li><li><span class="file"><a href="inclusions.html">Inclusions</a></span><ul><li><span class="file"><a href="structural_inclusions.html">Structural inclusions</a></span></li><li><span class="file"><a href="inline_inclusions.html">Inline inclusions</a></span></li></ul></li><li><span class="file"><a href="tut_manage_users.html">Managing user accounts</a></span></li><li><span class="file"><a href="pt01ch13.html">Advanced Tasks</a></span><ul><li><span class="file"><a href="styling_titlepage.html">Styling the title-page</a></span></li><li><span class="file"><a href="create_coverpage.html">Creating a cover-page</a></span></li><li><span class="file"><a href="adapt_page_design.html">Adapting the PDF page design</a></span><ul><li><span class="file"><a href="tut_set_page_margins.html">Setting the page margins</a></span></li><li><span class="file"><a href="pt01ch13s03s02.html">Styling the chapter header</a></span></li><li><span class="file"><a href="pt01ch13s03s03.html">Defining the header/footer content</a></span></li><li><span class="file"><a href="pt01ch13s03s04.html">Styling the header and footer</a></span></li></ul></li><li><span class="file"><a href="gentext_settings.html">Gentext settings</a></span></li><li><span class="file"><a href="inter_publication_links.html">Inter-publication links</a></span></li><li><span class="file"><a href="create_index_entries.html">Creating index entries</a></span></li><li><span class="file"><a href="create_footnotes.html">Creating footnotes</a></span></li><li><span class="file"><a href="labeled_blocks.html">Labeled blocks</a></span></li><li id="webhelp-currentid"><span class="file"><a href="line_numbering.html">Formatting of listings</a></span></li><li><span class="file"><a href="syntax_highlighting.html">Syntax highlighting</a></span></li><li><span class="file"><a href="tut_html_preview_images.html">Creating HTML preview images</a></span></li><li><span class="file"><a href="customize_webhelp.html">Customizing the Web-Help design</a></span></li><li><span class="file"><a href="webhelp_create_layout.html">Creating a new Web-Help layout</a></span></li><li><span class="file"><a href="export_import_nodes.html">Export, import and migration</a></span></li><li><span class="file"><a href="integrate_other_systems.html">Integration with other systems</a></span></li><li><span class="file"><a href="create_plugin.html">Creating a plug-in</a></span></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="startWebHelpSearch(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><div align="center"><input id="textToSearch" name="textToSearch" type="text" class="searchText"/>&nbsp;<input onclick="startWebHelpSearch(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></div></fieldset></form></div><div id="closeSearchResults" style="display:none"><a href="javascript:closeSearchShowToc();">Contents</a></div><div id="searchResults"><div align="center"></div></div></div></div></div>
<div id="bookpartsnavigation"><ul><li class="book-currentpart"><a href="pt01.html">Tutorial</a></li><li><a href="reference_manual.html">Reference Manual</a></li></ul></div>
<div id="breadcrumbsnavigation" class="breadcrumbs"><span class="breadcrumb-link"><a class="breadcrumb_node" href="pt01.html">Tutorial</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb-link"><a class="breadcrumb_node" href="pt01ch13.html">Advanced Tasks</a></span> <span class="breadcrumb_separator">&rarr;</span> <span class="breadcrumb_node breadcrumb_lastnode">Formatting of listings</span></div>
<div id="content"><div id="line_numbering" class="section"><h3>1.13.9. Formatting of listings</h3><div title="Automatic line numbering" class="doc-content"><div class="normal-para">To improve the readability of listings, it is often required to format even lines with a different style (e.g. different background-color) than odd lines and/or it is required to add line numbers. This chapter describes how this can be achieved in Docmenta.</div>
<div class="normal-para">As an example we'll format the lines of following HTML listing:</div>
<div class="code_listing">
<div class="normal-para">&lt;html&gt;<br    />  &lt;head&gt;<br    />    &lt;title&gt;My first homepage&lt;/title&gt;<br    />  &lt;/head&gt;<br    />  &lt;body&gt;<br    />    Welcome to my homepage!<br    />  &lt;/body&gt;<br    />&lt;/html&gt;</div>
</div>
<div class="normal-para">There are two possibilities to include a listing in a content-node: The first possibility is to directly enter the text in the content-editor, either by typing in the text word for word or by using Copy&amp;Paste. Note that if you type in the listing word for word, a new line has to be started by pressing Shift-Enter (i.e. by inserting a manual line-break). If you press only the Enter key, then a new paragraph is created. However, a listing has to be a single paragraph that consists of multiple lines terminated by manual line-breaks.</div>
<div class="normal-para">For long listings it is preferable to store the listing in a separate text-file and include the content of the text-file via inline-inclusion. To do this, upload the text-file to a folder within the product-tree, e.g. to the root folder <img height="14" alt="" width="14" src="images/folderopen.gif"     /> <span class="code">Files</span>. Furthermore, an alias name has to be assigned to the file. Thus, open the context-menu by right-clicking the file-node and select <img height="14" alt="" width="15" src="images/edit_props_icon.gif"     /> "Edit Properties". In the opened dialog enter an alias name. To follow the tutorial enter the alias name "listing_homepage". After having uploaded the listing and assigned an alias name, the result should be as shown in the following screenshot:</div>
<div class="normal-para"><div title="Uploading the listing file" class="figure"><div class="mediaobject"><img title="Uploading the listing file" style="print-width: 100%;" alt="" width="800" src="images/tutorial_format_lines_upload_file.gif"     /></div><p class="title">Figure 1.13.58. Uploading the listing file</p></div></div>
<div class="header_note">
<div class="normal-para">Note: Text file extensions</div>
</div>
<div class="note_box">
<div class="normal-para">If the preview-area does not show the content of the selected file-node, then the file-extensions is probably not a registered text-file extension. To register a text-file extension, switch to the Settings tab in the Administration workspace:</div>
<div class="normal-para"><div title="Registering a text-file extension" class="figure"><div class="mediaobject"><img title="Registering a text-file extension" style="print-width: 100%;" alt="" width="600" src="images/tutorial_format_lines_register_extension.gif"     /></div><p class="title">Figure 1.13.59. Registering a text-file extension</p></div></div>
<div class="normal-para">In the "Text File Extensions" input field, enter the file-extensions that you intend to use for text-files. Click "Save" to store the changes.</div>
</div>
<div class="normal-para">Now, open the content-node where the listing shall be included in the content-editor. Create a new paragraph and include the listing via inline-inclusion, i.e. enter the text "<span class="code">[##listing_homepage]</span>" (see <a title="1.11.2. Inline inclusions" href="inline_inclusions.html">Section 1.11.2, “Inline inclusions”</a> for more information on inline-inclusions):</div>
<div class="normal-para"><div title="Including the content of a file" class="figure"><div class="mediaobject"><img title="Including the content of a file" alt="" width="540" src="images/tutorial_format_lines_include_file.gif"     /></div><p class="title">Figure 1.13.60. Including the content of a file</p></div></div>
<div class="normal-para">The next step is to assign a user-defined block-style to the listing-paragraph. The block-style is used to define the formatting properties of the listing. To follow the tutorial, assign the style with ID "<span class="code">listing</span>", that you've created in the previous chapter. Therefore, open the content-node that contains the listing in the content-editor, and place the cursor in the listing-paragraph <img height="14" alt="" width="14" src="images/callout_1.gif"     />. Then click the "Insert/Edit attributes" <img height="14" alt="" width="14" src="images/icon_attributes.gif"     /> button <img height="14" alt="" width="14" src="images/callout_2.gif"     />. In the opened dialog select the entry "<span class="code">listing</span>" from the Class list <img height="14" alt="" width="14" src="images/callout_3.gif"     />:</div>
<div class="normal-para"><div title="Assigning the listing-style to the paragraph" class="figure"><div class="mediaobject"><img title="Assigning the listing-style to the paragraph" alt="" width="340" src="images/tutorial_format_lines_apply_style.gif"     /></div><p class="title">Figure 1.13.61. Assigning the listing-style to the paragraph</p></div></div>
<div class="normal-para">Save the content-node. As you can see in the preview of the content-node, the content of the file with alias "<span class="code">listing_homepage</span>" appears instead of the text "<span class="code">[##listing_homepage]</span>":</div>
<div class="normal-para"><div title="Previewing the included listing" class="figure"><div class="mediaobject"><img title="Previewing the included listing" alt="" src="images/tutorial_format_lines_preview_include.gif"     /></div><p class="title">Figure 1.13.62. Previewing the included listing</p></div></div>
<div class="normal-para">You may notice, that the lines are not correctly indented. To fix this, create a new block-style with ID "<span class="code">listing_line</span>". This style shall define the CSS properties to be assigned to each line of the listing. Set the following CSS properties for this style:</div>
<ul>
<li><strong>Font</strong>: mono, 11pt</li>
<li><strong>White-space</strong>: pre</li>
<li><strong>Height:</strong> 15pt</li>
</ul>
<div class="normal-para"><div title="Setting the text properties of a line" class="figure"><div class="mediaobject"><img title="Setting the text properties of a line" height="180" alt="" src="images/tutorial_format_lines_css.gif"     /></div><p class="title">Figure 1.13.63. Setting the text properties of a line</p></div></div>
<div class="normal-para"><div title="Setting the line height" class="figure"><div class="mediaobject"><img title="Setting the line height" height="180" alt="" src="images/tutorial_format_lines_height.gif"     /></div><p class="title">Figure 1.13.64. Setting the line height</p></div></div>
<div class="normal-para">Setting the property "white-space" to "pre" (preformatted) is required to have correctly indented lines. Otherwise multiple successive spaces will be rendered as a single space. Furthermore, by explicitely setting the height of a line, it is assured that generated line numbers are correctly aligned with the lines in the listing.</div>
<div class="normal-para">As mentioned in the introduction, we want to add line numbers to the listing. Therefore, we have to configure the <span class="code">listing</span>-style to add line-numbers. Open the style-dialog of the <span class="code">listing</span>-style and click the "Add" button <img height="14" alt="" width="14" src="images/callout_1.gif"     /> next to the Auto-Format list. In the opened dialog select the Auto-Format class <span class="code">org.docma.plugin.examples.FormatLines</span> <img height="14" alt="" width="14" src="images/callout_2.gif"     /> and enter the arguments "<span class="code">start=1 line=listing_line nw=22pt</span>" <img height="14" alt="" width="14" src="images/callout_3.gif"     />:</div>
<div class="normal-para"><div title="Auto-Format configuration of the listing-style" class="figure"><div class="mediaobject"><img title="Auto-Format configuration of the listing-style" style="print-width: 100%;" alt="" width="820" src="images/tutorial_format_lines_style_autoformat.gif"     /></div><p class="title">Figure 1.13.65. Auto-Format configuration of the listing-style</p></div></div>
<div class="normal-para">The argument <span class="code">start=<em>value</em></span> tells the Auto-Format class, to start the line-numbering with the specified <em><span class="code">value</span></em>. The argument <span class="code">line=<em>style_ID</em></span> defines, that the style <em><span class="code">style_ID</span></em> shall be applied to each line of the listing. The argument <span class="code">nw=<em>width</em></span> sets the horizontal width to be reserved for the line-numbers. Close the dialogs by clicking the "Okay" button.</div>
<div class="header_note">
<div class="normal-para">Note:</div>
</div>
<div class="note_box">
<div class="normal-para">If the class <span class="code">org.docma.plugin.examples.FormatLines</span> is not available in the Auto-Format Class list, then you first have to register the class. For more information see <a title="2.7.6. Auto-Format class registration" href="autoformat_config.html">Section 2.7.6, “Auto-Format class registration”</a> in the reference manual or see the note 'Auto-Format Class Registration' in the chapter <a title="1.9.2. Dynamic Templates" href="tut_dynamic_templates.html">Section 1.9.2, “Dynamic Templates”</a> here in this tutorial.</div>
</div>
<div class="normal-para">The preview of the node should now show the included listing in monospace font with correctly indented lines and line-numbers:</div>
<div class="normal-para"><div title="Listing with line-numbers" class="figure"><div class="mediaobject"><img title="Listing with line-numbers" alt="" src="images/tutorial_format_lines_preview_nums.gif"     /></div><p class="title">Figure 1.13.66. Listing with line-numbers</p></div></div>
<div class="header_note">
<div class="normal-para">Note:</div>
</div>
<div class="note_box">
<div class="normal-para">Notice that the style with ID "<span class="code">listing_line</span>" is not directly applied by the user. Therefore you can define it to be a hidden style. See the chapter <a title="1.9.2. Dynamic Templates" href="tut_dynamic_templates.html">Section 1.9.2, “Dynamic Templates”</a> in this tutorial on how to hide styles.</div>
</div>
</div><div title="Marking lines" class="doc-content"><div class="header_para">
<div class="normal-para">Marking lines</div>
</div>
<div class="normal-para">A special feature of the <span class="code">org.docma.plugin.examples.FormatLines</span> class is, that you can define a character sequence to be used to mark lines. Lines that start or end with the specified character sequence are then formatted with a user-defined style.</div>
<div class="normal-para">In our example we want to define the character sequence "<span class="code">***</span>" to be used to mark lines. The line numbers of marked lines shall be highlighted with a dark blue background-color and a white font-color. Therefore, create a new block-style with ID "<span class="code">marked_num</span>" and set the background-color "<span class="code">#0000A8</span>" and the font-color "<span class="code">#FFFFFF</span>" for this style. Also set the same font-size as for the non-marked line-numbers (<span class="code">11 points</span>). Then open the style-dialog of the <span class="code">listing</span>-style, select the previously created entry in the Auto-Format list <img height="14" alt="" width="14" src="images/callout_1.gif"     /> and click the "Edit" button <img height="14" alt="" width="14" src="images/callout_2.gif"     /> next to the list:</div>
<div class="normal-para"><div title="Editing the Auto-Format entry" class="figure"><div class="mediaobject"><img title="Editing the Auto-Format entry" style="print-width: 100%;" alt="" width="720" src="images/tutorial_format_lines_edit_autoformat.gif"     /></div><p class="title">Figure 1.13.67. Editing the Auto-Format entry</p></div></div>
<div class="normal-para">In the arguments input field, add the text "<span class="code">m=*** mnum=marked_num</span>" <img height="14" alt="" width="14" src="images/callout_3.gif"     /> after the existing arguments. The argument <span class="code">m=<em>pattern</em></span> defines the character sequence to be used for marking lines. The argument <span class="code">mnum=<em>style_ID</em></span> defines the style to be applied to the line-numbers of marked lines.</div>
<div class="normal-para">Close the dialogs by clicking "Okay". To test the marking of lines, select the file-node that contains the listing, click the "Edit" button in the bottom bar of the preview-area and add the character sequence "<span class="code">***</span>" at the end of a line <img height="14" alt="" width="14" src="images/callout_1.gif"     />. Then click the "Save" button <img height="14" alt="" width="14" src="images/callout_2.gif"     /> in the bottom bar to save the modified listing:</div>
<div class="normal-para"><div title="Adding a marker to the listing" class="figure"><div class="mediaobject"><img title="Adding a marker to the listing" alt="" src="images/tutorial_format_lines_add_marker.gif"     /></div><p class="title">Figure 1.13.68. Adding a marker to the listing</p></div></div>
<div class="normal-para">Now, select the content-node that includes the listing to see if the lines are marked as expected:</div>
<div class="normal-para"><div title="Preview of the marked line" class="figure"><div class="mediaobject"><img title="Preview of the marked line" alt="" src="images/tutorial_format_lines_preview_marked.gif"     /></div><p class="title">Figure 1.13.69. Preview of the marked line</p></div></div>
<div class="normal-para">As you can see, the style <span class="code">marked_num</span> is applied to the line-number of the marked line. Note that the marker "<span class="code">***</span>" has been removed.</div>
</div><div title="Referencing lines" class="doc-content"><div class="header_para">
<div class="normal-para">Referencing lines</div>
</div>
<div class="normal-para">In Docmenta you can reference a marked line in the listing from within the text. To be able to reference a marked line, you first have to assign an ID to the marked line. To do this, add an ID value enclosed in square brackets after the marker sequence. To follow the tutorial use the line-ID "<span class="code">line_a</span>", i.e. use the character sequence "<span class="code">***[line_a]</span>" as marker:</div>
<div class="normal-para"><div title="Setting a marker with ID" class="figure"><div class="mediaobject"><img title="Setting a marker with ID" style="print-width: 100%;" alt="" width="800" src="images/tutorial_format_lines_marker_id.gif"     /></div><p class="title">Figure 1.13.70. Setting a marker with ID</p></div></div>
<div class="normal-para">Save the changed listing and open a content-node from where you want to reference the line. Create a new paragraph and enter the text "<span class="code">See line here</span>", select the word "<span class="code">here</span>" and click the "Insert/Edit Link" <img height="14" alt="" width="14" src="images/icon_link.gif"     /> button. In the opened dialog enter the URL "<span class="code">#line_a</span>" and check the "Use target title" box:</div>
<div class="normal-para"><div title="Referencing the marked line" class="figure"><div class="mediaobject"><img title="Referencing the marked line" alt="" src="images/tutorial_format_lines_link_marker.gif"     /></div><p class="title">Figure 1.13.71. Referencing the marked line</p></div></div>
<div class="normal-para">Click "Insert" to close the dialog. Finally, save the content and preview the node. As you can see, the HTML preview still shows the link text "<span class="code">here</span>". This is because the link text replacement is done during export but not for HTML preview. However, you can check that the correct line-number is referenced by creating a PDF preview of the content-node. In the PDF preview the text "<span class="code">here</span>" should be replaced by the line-number of the referenced line:</div>
<div class="normal-para"><div title="Referencing marked lines (PDF preview)" class="figure"><div class="mediaobject"><img title="Referencing marked lines (PDF preview)" alt="" src="images/tutorial_format_lines_pdf_link_marker.gif"     /></div><p class="title">Figure 1.13.72. Referencing marked lines (PDF preview)</p></div></div>
</div><div title="Inline arguments" class="doc-content"><div class="header_para">
<div class="normal-para">Inline arguments</div>
</div>
<div class="normal-para">Sometimes it might be required to use different line-numbering start values for different listings. To allow this without having to create a separate style for each required setting, you can overwrite the Auto-Format class arguments of a listing, by supplying the arguments as first line of the listing in the format</div>
<div class="normal-para"><span class="code">  [args: <em>argument1</em> <em>argument2</em> ... ]</span></div>
<div class="normal-para">Note that the arguments set in the first line of a listing have higher priority than the arguments that are set in the style configuration. In other words, if the same argument is set in the style configuration and in the first line of a listing, than the later takes precedence.</div>
<div class="normal-para">For example, to set a new line-numbering start-value for our listing, without changing the style configuration, select the listing file-node and click the "Edit" button in the bottom bar of the preview area. Then add following line as first line of the listing <img height="14" alt="" width="14" src="images/callout_1.gif"     />:</div>
<div class="normal-para"><span class="code">  [args: start=2]</span></div>
<div class="normal-para">Click the "Save" button <img height="14" alt="" width="14" src="images/callout_2.gif"     /> to save the changed listing:</div>
<div class="normal-para"><div title="Setting arguments in the first line of the listing" class="figure"><div class="mediaobject"><img title="Setting arguments in the first line of the listing" alt="" src="images/tutorial_format_lines_inline_args.gif"     /></div><p class="title">Figure 1.13.73. Setting arguments in the first line of the listing</p></div></div>
<div class="normal-para">When you preview the content-node, you'll see that the line-numbering starts with 2:</div>
<div class="normal-para"><div title="Changed line-numbering start value" class="figure"><div class="mediaobject"><img title="Changed line-numbering start value" alt="" src="images/tutorial_format_lines_preview_inline_arg.gif"     /></div><p class="title">Figure 1.13.74. Changed line-numbering start value</p></div></div>
<div class="normal-para">This was a short introduction to using the Auto-Format class <span class="code">org.docma.plugin.examples.FormatLines</span>. Additional features of this class are:</div>
<ul>
<li>Apply different styles to even and odd lines</li>
<li>Translate tab characters to spaces</li>
<li>Allow or disallow page breaks within a listing</li>
<li>Apply a style to the box that encloses line-numbers and content</li>
<li>Set maximum characters per line with insertion of automatic line-breaks</li>
</ul>
<div class="normal-para">For more information see chapter <a title="2.8.2. org.docma.plugin.examples.FormatLines" href="ref_af_formatlines.html">Section 2.8.2, “org.docma.plugin.examples.FormatLines”</a> in the reference manual.</div>
</div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="labeled_blocks.html"><span class="navlink-text">Prev</span></a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="pt01ch13.html"><span class="navlink-text">Up</span></a></td><td width="40%" align="right">&#160;<a accesskey="n" href="syntax_highlighting.html"><span class="navlink-text">Next</span></a></td></tr><tr><td width="40%" align="left" valign="top">1.13.8. Labeled blocks&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><span class="navlink-text">Home</span></a></td><td width="40%" align="right" valign="top">&#160;1.13.10. Syntax highlighting</td></tr></table></div>
<div class="web_footer">
<p class="align-center">&#169; 2015 - www.docmenta.org</p>
</div>
</div>
<a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">&nbsp;</a></body>
</html>
